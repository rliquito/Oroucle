{"version":3,"sources":["contexts/AccountContext.tsx","components/SpinButton.tsx","utils/programIds.ts","utils/notifications.tsx","actions/instructions.ts","components/ExplorerLink/index.tsx","utils/eventEmitter.ts","components/Settings/index.tsx","actions/decoders.ts","actions/transactions.ts","actions/betEnum.ts","actions/account.ts","utils/borsh.ts","actions/constants.ts","components/DefaultModal/index.tsx","contexts/WalletContext/WalletContext.tsx","contexts/WalletContext/wallet.less","contexts/ModalContext.tsx","contexts/BetTrackerContext.tsx","actions/context.tsx","components/Header/Header.tsx","components/ConnectButton.tsx","components/Balance/Balance.tsx","components/BalancePanel/BalancePanel.tsx","utils/ids.ts","actions/state.ts","actions/index.ts","theme/theme.ts","components/Confetti/index.tsx","components/RouletteWheel/RouletteWheel.tsx","components/BetSelection/BetSelection.tsx","App.tsx","reportWebVitals.ts","index.tsx","contexts/ConnectionContext.tsx","actions/schema.ts","constants/math.ts","utils/utils.ts"],"names":["AccountsContext","React","createContext","pendingCalls","Map","genericCache","pendingMintCalls","mintCache","getMintInfo","connection","pubKey","a","getAccountInfo","info","Error","data","Buffer","from","deserializeMint","TokenAccountParser","length","buffer","deserializeAccount","pubkey","account","keyToAccountParser","cache","emitter","EventEmitter","query","parser","id","PublicKey","address","toBase58","get","then","add","set","obj","isActive","deserialize","registerParser","delete","undefined","Function","isNew","has","raiseCacheUpdated","key","raiseCacheDeleted","byParser","result","keys","push","queryMint","mint","getMint","addMint","UseNativeAccount","useConnection","publicKey","useWallet","useState","nativeAccount","setNativeAccount","updateCache","useCallback","wrapped","WRAPPED_SOL_MINT","owner","amount","u64","lamports","delegate","delegatedAmount","isInitialized","isFrozen","isNative","rentExemptReserve","closeAuthority","wrapNativeAccount","useEffect","subId","updateAccount","onAccountChange","removeAccountChangeListener","PRECACHED_OWNERS","Set","precacheUserTokenAccounts","getTokenAccountsByOwner","programId","programIds","token","value","forEach","AccountsProvider","children","tokenAccounts","setTokenAccounts","userAccounts","setUserAccounts","walletKey","selectUserAccounts","map","filter","accounts","subs","onCache","args","tokenSubID","onProgramAccountChange","accountId","accountInfo","AccountLayout","span","removeProgramAccountChangeListener","Provider","decode","fromBuffer","delegateOption","state","isNativeOption","closeAuthorityOption","MintLayout","mintInfo","mintAuthorityOption","mintAuthority","supply","freezeAuthorityOption","freezeAuthority","SpinButton","onClick","name","restProps","border","borderRadius","borderColor","bgColor","display","height","_hover","fontFamily","textStyle","color","TOKEN_PROGRAM_ID","associatedToken","SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID","bpf_upgrade_loader","BPF_UPGRADE_LOADER_ID","system","SYSTEM","memo","MEMO_ID","notify","message","description","txid","type","placement","notification","style","opacity","backgroundColor","initializeInstruction","rngAccountKey","payerKey","wallet","WalletNotConnectedError","settings","InitializeArgs","serialize","schema","ix","TransactionInstruction","toPublicKey","isSigner","isWritable","SYSVAR_RENT_PUBKEY","SystemProgram","RNG_PROGRAM_ID","initializeHoneypotInstruction","honeypotAccount","vaultAccount","mintAccount","InitializeHoneypotArgs","tickSize","TICK_SIZE","maxBetSize","MAX_BET_SIZE","minimumBankSize","MINIMUM_BANK_SIZE","rouletteInstruction","tokenAccount","pythProductKey1","pythPriceKey1","pythProductKey2","pythPriceKey2","pythProductKey3","pythPriceKey3","bets","RouletteArgs","tolerance","BN","SYSVAR_CLOCK_PUBKEY","ExplorerLink","props","code","href","target","title","Text","shortenAddress","CacheUpdateEvent","this","CacheDeleteEvent","MarketUpdateEvent","ids","Emitter","callback","on","removeListener","emit","Settings","additionalSettings","connected","disconnect","useConnectionConfig","endpoint","setEndpoint","env","setVisible","useWalletModal","open","setModal","useModal","handleConnect","ModalEnum","WALLET","flexDirection","minW","justifyContent","onSelect","width","marginBottom","ENDPOINTS","Option","navigator","clipboard","writeText","danger","catch","decodeRNG","deserializeUnchecked","RNG","getMintAccount","createMintIx","signers","DEVNET_MINT","getMinimumBalanceForRentExemption","mintRent","mintAccountKeypair","Keypair","fromSecretKey","Uint8Array","DEVNET_MINT_KEYPAIR","DEVNET_MINT_AUTHORITY","createMintFromAccount","Conn","sendTransactionWithRetry","MAINNET_MINT","mintChips","size","Token","findProgramAddress","toBuffer","traderHasChipAccount","createATAIx","console","log","createAssociatedTokenAccountInstruction","mintIx","createMintToInstruction","initializeHoneypot","entrypoint","honeypotIx","toArray","honeypotKey","vaultKey","toNumber","sample","ctx","betTrackerCtx","createIx","Object","entries","bet","RouletteBet","BET_TO_IDX","sampleIx","DEVNET_SOL_PRODUCT_ORACLE","DEVNET_SOL_PRICE_ORACLE","DEVNET_BTC_PRODUCT_ORACLE","DEVNET_BTC_PRICE_ORACLE","DEVNET_ETH_PRODUCT_ORACLE","DEVNET_ETH_PRICE_ORACLE","MAINNET_SOL_PRODUCT_ORACLE","MAINNET_SOL_PRICE_ORACLE","MAINNET_BTC_PRODUCT_ORACLE","MAINNET_BTC_PRICE_ORACLE","MAINNET_ETH_PRODUCT_ORACLE","MAINNET_ETH_PRICE_ORACLE","response","updateSample","Zero","DoubleZero","R1","B2","R3","B4","R5","B6","R7","B8","R9","B10","B11","R12","B13","R14","B15","R16","B17","R18","R19","B20","R21","B22","R23","B24","R25","B26","R27","B28","B29","R30","B31","R32","B33","R34","B35","R36","Red","Black","Even","Odd","Col1","Col2","Col3","Dozen1","Dozen2","Dozen3","Low","High","BET_TO_NUMBER","NUMBER_TO_COLOR","instructions","associatedTokenAddress","payer","walletAddress","splTokenMintAddress","decimals","createAccount","fromPubkey","newAccountPubkey","space","createInitMintInstruction","BinaryReader","prototype","readPubkey","array","readFixedArray","BinaryWriter","writePubkey","writeFixedArray","readPubkeyAsString","base58","encode","writePubkeyAsString","DefaultModal","bodyStyle","closeIcon","rest","background","alignItems","footer","WalletModalContext","useContext","WalletModal","wallets","selected","select","visible","setShowWallets","close","onCancel","fontWeight","fontSize","icon","alt","src","marginRight","float","textAlign","WalletModalProvider","setConnected","keyToDisplay","substring","WalletProvider","useMemo","getPhantomWallet","getSolflareWallet","getTorusWallet","options","clientId","getLedgerWallet","getSolongWallet","getMathWallet","getSolletWallet","onError","error","autoConnect","ModalContext","removeModal","context","BetTrackerContext","useBetTracker","BetTrackerProvider","setState","locked","setLocked","inc","setInc","totalSize","setTotalSize","winningBets","setWinningBets","resolved","setResolved","chips","setChips","loaded","setLoaded","grayscale","setGrayscale","lock","unlock","increment","cls","currTotal","decrement","updateInc","i","clear","updateBetResults","defaultContext","currentSample","currentRawSample","currentSlot","initialized","convertedSamples","rawSamples","duplicated","Promise","values","RNGContext","RNGProvider","RNGKey","newState","RNGAccount","modn","slot","useRNG","getMintString","mintString","maxChips","remainder","disabled","Header","honeypotButton","setHoneypotButton","getHoneypot","handleChange","marginLeft","v","isConnected","mr","onClickConnect","onClickChange","ConnectButton","isAttached","Balance","cryptoAmount","borderLeftRadius","boxShadow","flexGrow","align","ml","BalancePanel","getChips","chipTokenAccount","e","marginTop","PubKeysInternedMap","Honeypot","honeypotBumpSeed","vaultBumpSeed","instruction","SampleArgs","WithdrawFromHoneypotArgs","amountToWithdraw","theme","extendTheme","initialColorMode","useSystemColorMode","fonts","heading","body","time","textStyles","lineHeight","emphasis","accent","regular","small","caption","table","timer","colors","brand","gray","blue","teal","green","red","purple","ConfettiContext","ConfettiProvider","canvasRef","useRef","confettiRef","dropConfetti","won","current","visibility","particleCount","spread","origin","y","finally","confetti","create","resize","useWorker","ref","position","zIndex","top","left","useConfetti","rouletteState","list","radius","spinning","RouletteWheel","rngCtx","confettiCtx","surprise","setSurprise","startIdx","setStartIdx","received","responseState","setResponseState","renderSector","start","arc","canvas","document","getElementById","getContext","x","startAngle","endAngle","beginPath","lineWidth","strokeStyle","stroke","renderText","index","text","angle","save","font","fillStyle","x_offset","Math","cos","y_offset","sin","translate","rotate","fillText","measureText","restore","getColor","parseInt","renderWheel","clearRect","numOptions","arcSize","PI","counter","fill","nextIdx","reduce","b","winnings","wonBet","r","setTimeout","region","Path2D","moveTo","lineTo","closePath","drawTriangle","spin","formatCell","elem","querySelector","newStyle","getComputedStyle","rgb","match","className","onContextMenu","preventDefault","maxH","minH","w","toString","formatSideCell","pct","minWidth","minHeight","h","writingMode","BetSelection","App","setValue","mt","Group","onChange","alignContent","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","chainId","config","clusterApiUrl","ChainId","Devnet","DEFAULT","ConnectionContext","Connection","tokens","tokenMap","ConnectionProvider","useLocalStorageState","find","end","setTokens","setTokenMap","TokenListProvider","resolve","container","excludeByTag","filterByChainId","MainnetBeta","getList","knownMints","item","generate","onSlotChange","removeSlotChangeListener","SequenceType","getErrorForTransaction","confirmTransaction","getParsedConfirmedTransaction","tx","errors","meta","logMessages","m","regex","exec","lastIndex","sendTransactionsWithManualRetry","stopPoint","tries","lastInstructionsLength","toRemoveSigners","instr","filteredSigners","_","slice","sendTransactions","StopOnFailure","instructionSet","signersSet","sequenceType","Parallel","commitment","successCallback","ind","failCallback","block","unsignedTxns","getRecentBlockhash","transaction","Transaction","recentBlockhash","blockhash","setSigners","s","partialSign","signAllTransactions","signedTxns","pendingTxns","breakEarlyObject","breakEarly","signedTxnPromise","sendSignedTransaction","signedTransaction","reason","all","sendTransaction","awaitConfirmation","includesFeePayer","signTransaction","rawTransaction","skipPreflight","sendRawTransaction","awaitTransactionSignatureConfirmation","DEFAULT_TIMEOUT","confirmation","err","beforeSend","getUnixTs","Date","getTime","timeout","startTime","done","sleep","simulateResult","simulateTransaction","logs","line","startsWith","JSON","stringify","_recentBlockhash","_disableBlockhashCaching","signData","serializeMessage","wireTransaction","_serialize","encodedTransaction","encoding","_rpcRequest","res","queryStatus","status","confirmations","reject","onSignature","getSignatureStatuses","signatureStatuses","_signatureSubscriptions","removeSignatureListener","kind","fields","TEN","pow","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","defaultState","storedState","localStorage","getItem","parse","setLocalStorageState","removeItem","setItem","chars","chunks","Array","apply","ceil","currency","ms"],"mappings":"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","file":"static/js/main.9120e37e.chunk.js","sourcesContent":["import React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport { useConnection } from './ConnectionContext';\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport { AccountLayout, MintInfo, MintLayout, u64 } from '@solana/spl-token';\nimport { TokenAccount } from '../models';\nimport { chunks } from '../utils/utils';\nimport { EventEmitter } from '../utils/eventEmitter';\nimport { StringPublicKey, WRAPPED_SOL_MINT } from '../utils/ids';\nimport { programIds } from '../utils/programIds';\n\nconst AccountsContext = React.createContext<any>(null);\n\nconst pendingCalls = new Map<string, Promise<ParsedAccountBase>>();\nconst genericCache = new Map<string, ParsedAccountBase>();\nconst pendingMintCalls = new Map<string, Promise<MintInfo>>();\nconst mintCache = new Map<string, MintInfo>();\n\nexport interface ParsedAccountBase {\n  pubkey: StringPublicKey;\n  account: AccountInfo<Buffer>;\n  info: any; // TODO: change to unknown\n}\n\nexport type AccountParser = (\n  pubkey: StringPublicKey,\n  data: AccountInfo<Buffer>,\n) => ParsedAccountBase | undefined;\n\nexport interface ParsedAccount<T> extends ParsedAccountBase {\n  info: T;\n}\n\nconst getMintInfo = async (connection: Connection, pubKey: PublicKey) => {\n  const info = await connection.getAccountInfo(pubKey);\n  if (info === null) {\n    throw new Error('Failed to find mint account');\n  }\n\n  const data = Buffer.from(info.data);\n\n  return deserializeMint(data);\n};\n\nexport const MintParser = (pubKey: string, info: AccountInfo<Buffer>) => {\n  const buffer = Buffer.from(info.data);\n\n  const data = deserializeMint(buffer);\n\n  const details = {\n    pubkey: pubKey,\n    account: {\n      ...info,\n    },\n    info: data,\n  } as ParsedAccountBase;\n\n  return details;\n};\n\nexport const TokenAccountParser = (\n  pubKey: string,\n  info: AccountInfo<Buffer>,\n) => {\n  // Sometimes a wrapped sol account gets closed, goes to 0 length,\n  // triggers an update over wss which triggers this guy to get called\n  // since your UI already logged that pubkey as a token account. Check for length.\n  if (info.data.length > 0) {\n    const buffer = Buffer.from(info.data);\n    const data = deserializeAccount(buffer);\n\n    const details = {\n      pubkey: pubKey,\n      account: {\n        ...info,\n      },\n      info: data,\n    } as TokenAccount;\n\n    return details;\n  }\n};\n\nexport const GenericAccountParser = (\n  pubKey: string,\n  info: AccountInfo<Buffer>,\n) => {\n  const buffer = Buffer.from(info.data);\n\n  const details = {\n    pubkey: pubKey,\n    account: {\n      ...info,\n    },\n    info: buffer,\n  } as ParsedAccountBase;\n\n  return details;\n};\n\nexport const keyToAccountParser = new Map<string, AccountParser>();\n\nexport const cache = {\n  emitter: new EventEmitter(),\n  query: async (\n    connection: Connection,\n    pubKey: string | PublicKey,\n    parser?: AccountParser,\n  ) => {\n    let id: PublicKey;\n    if (typeof pubKey === 'string') {\n      id = new PublicKey(pubKey);\n    } else {\n      id = pubKey;\n    }\n\n    const address = id.toBase58();\n\n    let account = genericCache.get(address);\n    if (account) {\n      return account;\n    }\n\n    let query = pendingCalls.get(address);\n    if (query) {\n      return query;\n    }\n\n    // TODO: refactor to use multiple accounts query with flush like behavior\n    query = connection.getAccountInfo(id).then(data => {\n      if (!data) {\n        throw new Error('Account not found');\n      }\n\n      return cache.add(id, data, parser);\n    }) as Promise<TokenAccount>;\n    pendingCalls.set(address, query as any);\n\n    return query;\n  },\n  add: (\n    id: PublicKey | string,\n    obj: AccountInfo<Buffer>,\n    parser?: AccountParser,\n    isActive?: boolean | undefined | ((parsed: any) => boolean),\n  ) => {\n    const address = typeof id === 'string' ? id : id?.toBase58();\n    const deserialize = parser ? parser : keyToAccountParser.get(address);\n    if (!deserialize) {\n      throw new Error(\n        'Deserializer needs to be registered or passed as a parameter',\n      );\n    }\n\n    cache.registerParser(id, deserialize);\n    pendingCalls.delete(address);\n    const account = deserialize(address, obj);\n    if (!account) {\n      return;\n    }\n\n    if (isActive === undefined) isActive = true;\n    else if (isActive instanceof Function) isActive = isActive(account);\n\n    const isNew = !genericCache.has(address);\n\n    genericCache.set(address, account);\n    cache.emitter.raiseCacheUpdated(address, isNew, deserialize, isActive);\n    return account;\n  },\n  get: (pubKey: string | PublicKey) => {\n    let key: string;\n    if (typeof pubKey !== 'string') {\n      key = pubKey.toBase58();\n    } else {\n      key = pubKey;\n    }\n\n    return genericCache.get(key);\n  },\n  delete: (pubKey: string | PublicKey) => {\n    let key: string;\n    if (typeof pubKey !== 'string') {\n      key = pubKey.toBase58();\n    } else {\n      key = pubKey;\n    }\n\n    if (genericCache.get(key)) {\n      genericCache.delete(key);\n      cache.emitter.raiseCacheDeleted(key);\n      return true;\n    }\n    return false;\n  },\n\n  byParser: (parser: AccountParser) => {\n    const result: string[] = [];\n    for (const id of keyToAccountParser.keys()) {\n      if (keyToAccountParser.get(id) === parser) {\n        result.push(id);\n      }\n    }\n\n    return result;\n  },\n  registerParser: (pubkey: PublicKey | string, parser: AccountParser) => {\n    if (pubkey) {\n      const address = typeof pubkey === 'string' ? pubkey : pubkey?.toBase58();\n      keyToAccountParser.set(address, parser);\n    }\n\n    return pubkey;\n  },\n  queryMint: async (connection: Connection, pubKey: string | PublicKey) => {\n    let id: PublicKey;\n    if (typeof pubKey === 'string') {\n      id = new PublicKey(pubKey);\n    } else {\n      id = pubKey;\n    }\n\n    const address = id.toBase58();\n    let mint = mintCache.get(address);\n    if (mint) {\n      return mint;\n    }\n\n    let query = pendingMintCalls.get(address);\n    if (query) {\n      return query;\n    }\n\n    query = getMintInfo(connection, id).then(data => {\n      pendingMintCalls.delete(address);\n\n      mintCache.set(address, data);\n      return data;\n    }) as Promise<MintInfo>;\n    pendingMintCalls.set(address, query as any);\n\n    return query;\n  },\n  getMint: (pubKey: string | PublicKey) => {\n    let key: string;\n    if (typeof pubKey !== 'string') {\n      key = pubKey.toBase58();\n    } else {\n      key = pubKey;\n    }\n\n    return mintCache.get(key);\n  },\n  addMint: (pubKey: PublicKey, obj: AccountInfo<Buffer>) => {\n    const mint = deserializeMint(obj.data);\n    const id = pubKey.toBase58();\n    mintCache.set(id, mint);\n    return mint;\n  },\n};\n\nexport const useAccountsContext = () => {\n  const context = useContext(AccountsContext);\n\n  return context;\n};\n\nfunction wrapNativeAccount(\n  pubkey: string,\n  account?: AccountInfo<Buffer>,\n): TokenAccount | undefined {\n  if (!account) {\n    return undefined;\n  }\n\n  const key = new PublicKey(pubkey);\n\n  return {\n    pubkey: pubkey,\n    account,\n    info: {\n      address: key,\n      mint: WRAPPED_SOL_MINT,\n      owner: key,\n      amount: new u64(account.lamports),\n      delegate: null,\n      delegatedAmount: new u64(0),\n      isInitialized: true,\n      isFrozen: false,\n      isNative: true,\n      rentExemptReserve: null,\n      closeAuthority: null,\n    },\n  };\n}\n\nexport const getCachedAccount = (\n  predicate: (account: TokenAccount) => boolean,\n) => {\n  for (const account of genericCache.values()) {\n    if (predicate(account)) {\n      return account as TokenAccount;\n    }\n  }\n};\n\nconst UseNativeAccount = () => {\n  const connection = useConnection();\n  const { publicKey } = useWallet();\n\n  const [nativeAccount, setNativeAccount] = useState<AccountInfo<Buffer>>();\n\n  const updateCache = useCallback(\n    account => {\n      if (publicKey) {\n        const wrapped = wrapNativeAccount(publicKey.toBase58(), account);\n        if (wrapped !== undefined) {\n          const id = publicKey.toBase58();\n          cache.registerParser(id, TokenAccountParser);\n          genericCache.set(id, wrapped as TokenAccount);\n          cache.emitter.raiseCacheUpdated(id, false, TokenAccountParser, true);\n        }\n      }\n    },\n    [publicKey],\n  );\n\n  useEffect(() => {\n    let subId = 0;\n    const updateAccount = (account: AccountInfo<Buffer> | null) => {\n      if (account) {\n        updateCache(account);\n        setNativeAccount(account);\n      }\n    };\n\n    (async () => {\n      if (!connection || !publicKey) {\n        return;\n      }\n\n      try {\n        const account = await connection.getAccountInfo(publicKey);\n        updateAccount(account);\n      } catch {\n        return;\n      }\n\n      subId = connection.onAccountChange(publicKey, updateAccount);\n    })();\n\n    return () => {\n      if (subId) {\n        connection.removeAccountChangeListener(subId);\n      }\n    };\n  }, [setNativeAccount, publicKey, connection, updateCache]);\n\n  return { nativeAccount };\n};\n\nconst PRECACHED_OWNERS = new Set<string>();\nconst precacheUserTokenAccounts = async (\n  connection: Connection,\n  owner?: PublicKey,\n) => {\n  if (!owner) {\n    return;\n  }\n\n  // used for filtering account updates over websocket\n  PRECACHED_OWNERS.add(owner.toBase58());\n\n  // user accounts are updated via ws subscription\n  const accounts = await connection.getTokenAccountsByOwner(owner, {\n    programId: programIds().token,\n  });\n\n  accounts.value.forEach(info => {\n    cache.add(info.pubkey.toBase58(), info.account, TokenAccountParser);\n  });\n};\n\nexport function AccountsProvider({ children = null as any }) {\n  const connection = useConnection();\n  const { publicKey } = useWallet();\n  const [tokenAccounts, setTokenAccounts] = useState<TokenAccount[]>([]);\n  const [userAccounts, setUserAccounts] = useState<TokenAccount[]>([]);\n  const { nativeAccount } = UseNativeAccount();\n  const walletKey = publicKey?.toBase58();\n\n  const selectUserAccounts = useCallback(() => {\n    return cache\n      .byParser(TokenAccountParser)\n      .map(id => cache.get(id))\n      .filter(a => a && a.info.owner.toBase58() === walletKey)\n      .map(a => a as TokenAccount);\n  }, [walletKey]);\n\n  useEffect(() => {\n    const accounts = selectUserAccounts().filter(\n      a => a !== undefined,\n    ) as TokenAccount[];\n    setUserAccounts(accounts);\n  }, [nativeAccount, tokenAccounts, selectUserAccounts]);\n\n  useEffect(() => {\n    const subs: number[] = [];\n    cache.emitter.onCache(args => {\n      if (args.isNew && args.isActive) {\n        let id = args.id;\n        let deserialize = args.parser;\n        connection.onAccountChange(new PublicKey(id), info => {\n          cache.add(id, info, deserialize);\n        });\n      }\n    });\n\n    return () => {\n      subs.forEach(id => connection.removeAccountChangeListener(id));\n    };\n  }, [connection]);\n\n  useEffect(() => {\n    if (!connection || !publicKey) {\n      setTokenAccounts([]);\n    } else {\n      precacheUserTokenAccounts(connection, publicKey).then(() => {\n        setTokenAccounts(selectUserAccounts());\n      });\n\n      // This can return different types of accounts: token-account, mint, multisig\n      // TODO: web3.js expose ability to filter.\n      // this should use only filter syntax to only get accounts that are owned by user\n      const tokenSubID = connection.onProgramAccountChange(\n        programIds().token,\n        info => {\n          // TODO: fix type in web3.js\n          const id = info.accountId as unknown as string;\n          // TODO: do we need a better way to identify layout (maybe a enum identifing type?)\n          if (info.accountInfo.data.length === AccountLayout.span) {\n            const data = deserializeAccount(info.accountInfo.data);\n\n            if (PRECACHED_OWNERS.has(data.owner.toBase58())) {\n              cache.add(id, info.accountInfo, TokenAccountParser);\n              setTokenAccounts(selectUserAccounts());\n            }\n          }\n        },\n        'singleGossip',\n      );\n\n      return () => {\n        connection.removeProgramAccountChangeListener(tokenSubID);\n      };\n    }\n  }, [connection, publicKey, selectUserAccounts]);\n\n  return (\n    <AccountsContext.Provider\n      value={{\n        userAccounts,\n        nativeAccount,\n      }}\n    >\n      {children}\n    </AccountsContext.Provider>\n  );\n}\n\nexport function useNativeAccount() {\n  const context = useContext(AccountsContext);\n  return {\n    account: context.nativeAccount as AccountInfo<Buffer>,\n  };\n}\n\nexport const getMultipleAccounts = async (\n  connection: any,\n  keys: string[],\n  commitment: string,\n) => {\n  const result = await Promise.all(\n    chunks(keys, 99).map(chunk =>\n      getMultipleAccountsCore(connection, chunk, commitment),\n    ),\n  );\n\n  const array = result\n    .map(\n      a =>\n        a.array.map(acc => {\n          if (!acc) {\n            return undefined;\n          }\n\n          const { data, ...rest } = acc;\n          const obj = {\n            ...rest,\n            data: Buffer.from(data[0], 'base64'),\n          } as AccountInfo<Buffer>;\n          return obj;\n        }) as AccountInfo<Buffer>[],\n    )\n    .flat();\n  return { keys, array };\n};\n\nconst getMultipleAccountsCore = async (\n  connection: any,\n  keys: string[],\n  commitment: string,\n) => {\n  const args = connection._buildArgs([keys], commitment, 'base64');\n\n  const unsafeRes = await connection._rpcRequest('getMultipleAccounts', args);\n  if (unsafeRes.error) {\n    throw new Error(\n      'failed to get info about account ' + unsafeRes.error.message,\n    );\n  }\n\n  if (unsafeRes.result.value) {\n    const array = unsafeRes.result.value as AccountInfo<string[]>[];\n    return { keys, array };\n  }\n\n  // TODO: fix\n  throw new Error();\n};\n\nexport function useMint(key?: string | PublicKey) {\n  const connection = useConnection();\n  const [mint, setMint] = useState<MintInfo>();\n\n  const id = typeof key === 'string' ? key : key?.toBase58();\n\n  useEffect(() => {\n    if (!id) {\n      return;\n    }\n\n    cache\n      .query(connection, id, MintParser)\n      .then(acc => setMint(acc.info as any))\n      .catch(err => console.log(err));\n\n    const dispose = cache.emitter.onCache(e => {\n      const event = e;\n      if (event.id === id) {\n        cache\n          .query(connection, id, MintParser)\n          .then(mint => setMint(mint.info as any));\n      }\n    });\n    return () => {\n      dispose();\n    };\n  }, [connection, id]);\n\n  return mint;\n}\n\nexport function useAccount(pubKey?: PublicKey) {\n  const connection = useConnection();\n  const [account, setAccount] = useState<TokenAccount>();\n\n  const key = pubKey?.toBase58();\n  useEffect(() => {\n    const query = async () => {\n      try {\n        if (!key) {\n          return;\n        }\n\n        const acc = await cache\n          .query(connection, key, TokenAccountParser)\n          .catch(err => console.log(err));\n        if (acc) {\n          setAccount(acc);\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    query();\n\n    const dispose = cache.emitter.onCache(e => {\n      const event = e;\n      if (event.id === key) {\n        query();\n      }\n    });\n    return () => {\n      dispose();\n    };\n  }, [connection, key]);\n\n  return account;\n}\n\n// TODO: expose in spl package\nexport const deserializeAccount = (data: Buffer) => {\n  const accountInfo = AccountLayout.decode(data);\n  accountInfo.mint = new PublicKey(accountInfo.mint);\n  accountInfo.owner = new PublicKey(accountInfo.owner);\n  accountInfo.amount = u64.fromBuffer(accountInfo.amount);\n\n  if (accountInfo.delegateOption === 0) {\n    accountInfo.delegate = null;\n    accountInfo.delegatedAmount = new u64(0);\n  } else {\n    accountInfo.delegate = new PublicKey(accountInfo.delegate);\n    accountInfo.delegatedAmount = u64.fromBuffer(accountInfo.delegatedAmount);\n  }\n\n  accountInfo.isInitialized = accountInfo.state !== 0;\n  accountInfo.isFrozen = accountInfo.state === 2;\n\n  if (accountInfo.isNativeOption === 1) {\n    accountInfo.rentExemptReserve = u64.fromBuffer(accountInfo.isNative);\n    accountInfo.isNative = true;\n  } else {\n    accountInfo.rentExemptReserve = null;\n    accountInfo.isNative = false;\n  }\n\n  if (accountInfo.closeAuthorityOption === 0) {\n    accountInfo.closeAuthority = null;\n  } else {\n    accountInfo.closeAuthority = new PublicKey(accountInfo.closeAuthority);\n  }\n\n  return accountInfo;\n};\n\n// TODO: expose in spl package\nexport const deserializeMint = (data: Buffer) => {\n  if (data.length !== MintLayout.span) {\n    throw new Error('Not a valid Mint');\n  }\n\n  const mintInfo = MintLayout.decode(data);\n\n  if (mintInfo.mintAuthorityOption === 0) {\n    mintInfo.mintAuthority = null;\n  } else {\n    mintInfo.mintAuthority = new PublicKey(mintInfo.mintAuthority);\n  }\n\n  mintInfo.supply = u64.fromBuffer(mintInfo.supply);\n  mintInfo.isInitialized = mintInfo.isInitialized !== 0;\n\n  if (mintInfo.freezeAuthorityOption === 0) {\n    mintInfo.freezeAuthority = null;\n  } else {\n    mintInfo.freezeAuthority = new PublicKey(mintInfo.freezeAuthority);\n  }\n\n  return mintInfo as MintInfo;\n};\n","import React from \"react\";\nimport { Button, ButtonProps, Text } from \"@chakra-ui/react\";\nimport { useConnection } from '../contexts';\nimport { useWallet } from '@solana/wallet-adapter-react';\n\nexport type SpinButtonProps = ButtonProps & {\n    onClick?: () => void;\n};\n\nexport const SpinButton: React.FC<SpinButtonProps> = ({\n    onClick,\n    name,\n    ...restProps\n}) => {\n    return (\n        <Button\n            border=\"1px\"\n            borderRadius=\"5px\"\n            borderColor=\"green.400\"\n            bgColor=\"transparent\"\n            display=\"inline-block\"\n            height=\"42px\"\n            _hover={{ bgColor: \"transparent\", borderColor: \"green.300\" }}\n            {...restProps}\n            onClick={onClick}\n            fontFamily=\"@font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n            'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n            'Noto Color Emoji'\"\n        >\n            <Text textStyle=\"emphasis\" color=\"green.400\">\n                {name}\n            </Text>\n        </Button>\n    );\n};\n\nexport default SpinButton;\n","import {\n  TOKEN_PROGRAM_ID,\n  SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n  BPF_UPGRADE_LOADER_ID,\n  SYSTEM,\n  MEMO_ID,\n} from './ids';\n\nexport const setProgramIds = async () => {};\n\nexport const programIds = () => {\n  return {\n    token: TOKEN_PROGRAM_ID,\n    associatedToken: SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n    bpf_upgrade_loader: BPF_UPGRADE_LOADER_ID,\n    system: SYSTEM,\n    memo: MEMO_ID,\n    // store: STORE,\n  };\n};\n","import React from 'react';\nimport { notification } from 'antd';\n// import Link from '../components/Link';\n\nexport function notify({\n  message = '',\n  description = undefined as any,\n  txid = '',\n  type = 'info',\n  placement = 'bottomLeft',\n}) {\n  if (txid) {\n    //   <Link\n    //     external\n    //     to={'https://explorer.solana.com/tx/' + txid}\n    //     style={{ color: '#0000ff' }}\n    //   >\n    //     View transaction {txid.slice(0, 8)}...{txid.slice(txid.length - 8)}\n    //   </Link>\n\n    description = <></>;\n  }\n  (notification as any)[type]({\n    message: <span style={{ color: 'black' }}>{message}</span>,\n    description: (\n      <span style={{ color: 'black', opacity: 0.5 }}>{description}</span>\n    ),\n    placement,\n    style: {\n      backgroundColor: 'white',\n    },\n  });\n}\n","import {\n  SystemProgram,\n  SYSVAR_CLOCK_PUBKEY,\n  SYSVAR_RENT_PUBKEY,\n  TransactionInstruction,\n} from \"@solana/web3.js\";\nimport { WalletNotConnectedError } from \"@solana/wallet-adapter-base\";\nimport BN from \"bn.js\";\nimport { serialize } from \"borsh\";\nimport { InitializeArgs, InitializeHoneypotArgs, RouletteArgs, RouletteBet, SampleArgs, WithdrawFromHoneypotArgs } from \"./state\";\nimport { toPublicKey, StringPublicKey, TOKEN_PROGRAM_ID } from \"../utils\";\nimport { schema } from \"./schema\";\nimport { MAX_BET_SIZE, MINIMUM_BANK_SIZE, RNG_PROGRAM_ID, TICK_SIZE } from \"./constants\";\n\nexport const initializeInstruction = async (\n  rngAccountKey: StringPublicKey,\n  payerKey: StringPublicKey,\n  wallet: any\n) => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n  let settings = new InitializeArgs();\n  const data = Buffer.from(serialize(schema, settings));\n  return {\n    ix: [\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: toPublicKey(rngAccountKey),\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: toPublicKey(payerKey),\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: toPublicKey(RNG_PROGRAM_ID),\n        data,\n      }),\n    ],\n  };\n};\n\nexport const sampleInstruction = async (\n  rngAccountKey: StringPublicKey,\n  pythProductKey1: StringPublicKey,\n  pythPriceKey1: StringPublicKey,\n  pythProductKey2: StringPublicKey,\n  pythPriceKey2: StringPublicKey,\n  pythProductKey3: StringPublicKey,\n  pythPriceKey3: StringPublicKey,\n  wallet: any\n) => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n  let settings = new SampleArgs({ tolerance: new BN(10) });\n  const data = Buffer.from(serialize(schema, settings));\n  return {\n    ix: [\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: toPublicKey(rngAccountKey),\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: toPublicKey(SYSVAR_CLOCK_PUBKEY),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(pythProductKey1),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(pythPriceKey1),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(pythProductKey2),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(pythPriceKey2),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(pythProductKey3),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(pythPriceKey3),\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: toPublicKey(RNG_PROGRAM_ID),\n        data,\n      }),\n    ],\n  };\n};\n\nexport const initializeHoneypotInstruction = async (\n  honeypotAccount: StringPublicKey,\n  vaultAccount: StringPublicKey,\n  mintAccount: StringPublicKey,\n  wallet: any\n) => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n  let settings = new InitializeHoneypotArgs({\n    tickSize: TICK_SIZE,\n    maxBetSize: MAX_BET_SIZE,\n    minimumBankSize: MINIMUM_BANK_SIZE,\n  });\n  const data = Buffer.from(serialize(schema, settings));\n  return {\n    ix: [\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: toPublicKey(honeypotAccount),\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: toPublicKey(mintAccount),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(vaultAccount),\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: wallet.publicKey,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: toPublicKey(RNG_PROGRAM_ID),\n        data,\n      }),\n    ],\n  };\n};\n\nexport const withdrawFromHoneypotInstruction = async (\n  honeypotAccount: StringPublicKey,\n  vaultAccount: StringPublicKey,\n  tokenAccount: StringPublicKey,\n  mintAccount: StringPublicKey,\n  wallet: any,\n  amount: BN,\n) => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n  let settings = new WithdrawFromHoneypotArgs({\n    amountToWithdraw: amount,\n  });\n  const data = Buffer.from(serialize(schema, settings));\n  return {\n    ix: [\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: toPublicKey(honeypotAccount),\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: toPublicKey(vaultAccount),\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: toPublicKey(mintAccount),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(wallet.publicKey),\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(tokenAccount),\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: toPublicKey(RNG_PROGRAM_ID),\n        data,\n      }),\n    ],\n  };\n};\n\nexport const rouletteInstruction = async (\n  rngAccountKey: StringPublicKey,\n  honeypotAccount: StringPublicKey,\n  vaultAccount: StringPublicKey,\n  tokenAccount: StringPublicKey,\n  mintAccount: StringPublicKey,\n  pythProductKey1: StringPublicKey,\n  pythPriceKey1: StringPublicKey,\n  pythProductKey2: StringPublicKey,\n  pythPriceKey2: StringPublicKey,\n  pythProductKey3: StringPublicKey,\n  pythPriceKey3: StringPublicKey,\n  wallet: any,\n  bets: RouletteBet[],\n) => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n  let settings = new RouletteArgs({ tolerance: new BN(10), bets });\n  const data = Buffer.from(serialize(schema, settings));\n  return {\n    ix: [\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: toPublicKey(rngAccountKey),\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: toPublicKey(wallet.publicKey),\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(tokenAccount),\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: toPublicKey(mintAccount),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(honeypotAccount),\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: toPublicKey(vaultAccount),\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(SYSVAR_CLOCK_PUBKEY),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(pythProductKey1),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(pythPriceKey1),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(pythProductKey2),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(pythPriceKey2),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(pythProductKey3),\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: toPublicKey(pythPriceKey3),\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: toPublicKey(RNG_PROGRAM_ID),\n        data,\n      }),\n    ],\n  };\n};\n","import React from 'react';\nimport { Typography } from 'antd';\nimport { shortenAddress } from '../../utils/utils';\nimport { PublicKey } from '@solana/web3.js';\n\nexport const ExplorerLink = (props: {\n  address: string | PublicKey;\n  type: string;\n  code?: boolean;\n  style?: React.CSSProperties;\n  length?: number;\n}) => {\n  const { type, code } = props;\n\n  const address =\n    typeof props.address === 'string'\n      ? props.address\n      : props.address?.toBase58();\n\n  if (!address) {\n    return null;\n  }\n\n  const length = props.length ?? 9;\n\n  return (\n    <a\n      href={`https://explorer.solana.com/${type}/${address}`}\n      // eslint-disable-next-line react/jsx-no-target-blank\n      target=\"_blank\"\n      title={address}\n      style={props.style}\n    >\n      {code ? (\n        <Typography.Text style={props.style} code>\n          {shortenAddress(address, length)}\n        </Typography.Text>\n      ) : (\n        shortenAddress(address, length)\n      )}\n    </a>\n  );\n};\n","import { EventEmitter as Emitter } from 'eventemitter3';\n\nexport class CacheUpdateEvent {\n  static type = 'CacheUpdate';\n  id: string;\n  parser: any;\n  isNew: boolean;\n  isActive: boolean;\n  constructor(id: string, isNew: boolean, parser: any, isActive: boolean) {\n    this.id = id;\n    this.parser = parser;\n    this.isNew = isNew;\n    this.isActive = isActive;\n  }\n}\n\nexport class CacheDeleteEvent {\n  static type = 'CacheUpdate';\n  id: string;\n  constructor(id: string) {\n    this.id = id;\n  }\n}\n\nexport class MarketUpdateEvent {\n  static type = 'MarketUpdate';\n  ids: Set<string>;\n  constructor(ids: Set<string>) {\n    this.ids = ids;\n  }\n}\n\nexport class EventEmitter {\n  private emitter = new Emitter();\n\n  onMarket(callback: (args: MarketUpdateEvent) => void) {\n    this.emitter.on(MarketUpdateEvent.type, callback);\n\n    return () => this.emitter.removeListener(MarketUpdateEvent.type, callback);\n  }\n\n  onCache(callback: (args: CacheUpdateEvent) => void) {\n    this.emitter.on(CacheUpdateEvent.type, callback);\n\n    return () => this.emitter.removeListener(CacheUpdateEvent.type, callback);\n  }\n\n  raiseMarketUpdated(ids: Set<string>) {\n    this.emitter.emit(MarketUpdateEvent.type, new MarketUpdateEvent(ids));\n  }\n\n  raiseCacheUpdated(\n    id: string,\n    isNew: boolean,\n    parser: any,\n    isActive: boolean,\n  ) {\n    this.emitter.emit(\n      CacheUpdateEvent.type,\n      new CacheUpdateEvent(id, isNew, parser, isActive),\n    );\n  }\n\n  raiseCacheDeleted(id: string) {\n    this.emitter.emit(CacheDeleteEvent.type, new CacheDeleteEvent(id));\n  }\n}\n","import React, { useCallback } from \"react\";\nimport { Button, Select } from \"antd\";\nimport { useWallet } from \"@solana/wallet-adapter-react\";\nimport { ENDPOINTS, useConnectionConfig } from \"../../contexts\";\nimport { notify, shortenAddress } from \"../../utils\";\nimport { CopyOutlined } from \"@ant-design/icons\";\nimport { ModalEnum, useModal, useWalletModal } from \"../../contexts\";\nimport { Flex } from \"@chakra-ui/layout\";\n\nexport const Settings = ({\n  additionalSettings,\n}: {\n  additionalSettings?: JSX.Element;\n}) => {\n  const { connected, disconnect, publicKey } = useWallet();\n  const { endpoint, setEndpoint, env } = useConnectionConfig();\n  const { setVisible } = useWalletModal();\n  const open = useCallback(() => setVisible(true), [setVisible]);\n  const { setModal } = useModal();\n\n  const handleConnect = useCallback(() => {\n    setModal(ModalEnum.WALLET);\n    setVisible(true);\n  }, [setModal, setVisible]);\n\n  return (\n    <>\n      <Flex flexDirection=\"column\" minW=\"100%\" justifyContent=\"flex-end\">\n        <Flex>\n          {!connected && (\n            <>\n              <Select\n                onSelect={setEndpoint}\n                value={endpoint}\n                style={{ width: \"100%\", marginBottom: 5 }}\n              >\n                {ENDPOINTS.map(({ name, endpoint }) => (\n                  <Select.Option value={endpoint} key={endpoint}>\n                    {name}\n                  </Select.Option>\n                ))}\n              </Select>\n              <Button\n                type=\"primary\"\n                onClick={handleConnect}\n                style={{ marginBottom: 5 }}\n              >\n                Connect\n              </Button>\n            </>\n          )}\n        </Flex>\n        <Flex>\n          {connected && (\n            <>\n              <Flex>\n                {publicKey && (\n                  <Button\n                    style={{ marginBottom: 5 }}\n                    onClick={async () => {\n                      if (publicKey) {\n                        await navigator.clipboard.writeText(\n                          publicKey.toBase58()\n                        );\n                        notify({\n                          message: \"Wallet update\",\n                          description: \"Address copied to clipboard\",\n                        });\n                      }\n                    }}\n                  >\n                    <CopyOutlined />\n                    {shortenAddress(publicKey.toBase58())}\n                  </Button>\n                )}\n              </Flex>\n              <Button onClick={open} style={{ marginBottom: 5 }}>\n                Change Wallet\n              </Button>\n              <Button\n                type=\"primary\"\n                danger={true}\n                onClick={() => disconnect().catch()}\n                style={{ marginBottom: 5 }}\n              >\n                Disconnect ({env})\n              </Button>\n            </>\n          )}\n        </Flex>\n        {additionalSettings}\n      </Flex>\n    </>\n  );\n};\n","import { deserializeUnchecked } from 'borsh';\nimport {\n  Honeypot,\n  RNG,\n  RouletteBet,\n} from './state'\n\nimport { schema } from './schema'\n\nexport const decodeRNG = (buffer: Buffer) => {\n  return deserializeUnchecked(schema, RNG, buffer) as RNG;\n};\n\nexport const decodeHoneypot = (buffer: Buffer) => {\n  return deserializeUnchecked(schema, Honeypot, buffer) as Honeypot;\n};\n\nexport const decodeRouletteBet = (buffer: Buffer) => {\n  return deserializeUnchecked(schema, RouletteBet, buffer) as RouletteBet;\n};","import {\n  Connection,\n  Keypair,\n  Account,\n  PublicKey,\n  TransactionInstruction,\n  sendAndConfirmTransaction,\n  Transaction,\n} from \"@solana/web3.js\";\nimport {\n  Connection as Conn,\n  useConnection,\n  useConnectionConfig,\n} from \"../contexts\";\nimport {\n  createAssociatedTokenAccountInstruction,\n  createMint,\n  createMintFromAccount,\n  createUninitializedMint,\n} from \"./account\";\nimport {\n  initializeInstruction,\n  rouletteInstruction,\n  initializeHoneypotInstruction,\n} from \"./instructions\";\nimport {\n  notify,\n  SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n  toPublicKey,\n} from \"../utils\";\nimport {\n  RNG_PROGRAM_ID,\n  DEVNET_SOL_PRICE_ORACLE,\n  DEVNET_SOL_PRODUCT_ORACLE,\n  DEVNET_BTC_PRODUCT_ORACLE,\n  DEVNET_BTC_PRICE_ORACLE,\n  DEVNET_ETH_PRODUCT_ORACLE,\n  DEVNET_ETH_PRICE_ORACLE,\n  DEVNET_MINT,\n  MAINNET_SOL_PRICE_ORACLE,\n  MAINNET_SOL_PRODUCT_ORACLE,\n  MAINNET_BTC_PRODUCT_ORACLE,\n  MAINNET_BTC_PRICE_ORACLE,\n  MAINNET_ETH_PRODUCT_ORACLE,\n  MAINNET_ETH_PRICE_ORACLE,\n  MAINNET_MINT,\n  DEVNET_MINT_KEYPAIR,\n  DEVNET_MINT_AUTHORITY,\n  TICK_SIZE,\n  MAX_BET_SIZE,\n  MINIMUM_BANK_SIZE,\n} from \"./constants\";\nimport { RouletteBet } from \"./state\";\nimport { BET_TO_IDX } from \"./betEnum\";\nimport BN from \"bn.js\";\nimport { MintLayout, Token, TOKEN_PROGRAM_ID } from \"@solana/spl-token\";\n\nconst getMintAccount = async (\n  connection: Connection,\n  wallet: any,\n  env: string,\n  createMintIx: TransactionInstruction[],\n  signers: Keypair[]\n) => {\n  let mintAccount;\n  if (env === \"devnet\") {\n    mintAccount = DEVNET_MINT;\n    if (!(await connection.getAccountInfo(mintAccount))) {\n      const mintRent = await connection.getMinimumBalanceForRentExemption(\n        MintLayout.span\n      );\n      const mintAccountKeypair = Keypair.fromSecretKey(\n        new Uint8Array(DEVNET_MINT_KEYPAIR)\n      );\n      const mintAuthority = Keypair.fromSecretKey(\n        new Uint8Array(DEVNET_MINT_AUTHORITY)\n      );\n      createMintFromAccount(\n        createMintIx,\n        wallet.publicKey,\n        mintRent,\n        0,\n        mintAuthority.publicKey,\n        mintAuthority.publicKey,\n        mintAccountKeypair\n      );\n      signers.push(mintAccountKeypair);\n      const response = await Conn.sendTransactionWithRetry(\n        connection,\n        wallet,\n        [...createMintIx],\n        signers,\n        \"max\"\n      );\n      if (!response) {\n        return null;\n      }\n    }\n  } else {\n    mintAccount = MAINNET_MINT;\n  }\n  return mintAccount;\n};\n\nexport const mintChips = async (\n  connection: Connection,\n  wallet: any,\n  env: string,\n  size: number,\n) => {\n  if (env === \"devnet\") {\n    let signers: Keypair[] = [];\n    let ix: TransactionInstruction[] = [];\n    const mintAccount = await getMintAccount(\n      connection,\n      wallet,\n      env,\n      ix,\n      signers\n    );\n    const mintAuthority = Keypair.fromSecretKey(\n      new Uint8Array(DEVNET_MINT_AUTHORITY)\n    );\n    const token = new Token(\n      connection,\n      mintAccount,\n      TOKEN_PROGRAM_ID,\n      mintAuthority\n    );\n    const tokenAccount = (\n      await PublicKey.findProgramAddress(\n        [\n          wallet.publicKey.toBuffer(),\n          TOKEN_PROGRAM_ID.toBuffer(),\n          mintAccount.toBuffer(),\n        ],\n        SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID\n      )\n    )[0];\n\n    const traderHasChipAccount = await connection.getAccountInfo(\n      new PublicKey(tokenAccount)\n    );\n\n    let createATAIx: TransactionInstruction[] = [];\n    if (!traderHasChipAccount) {\n      console.log(\"Creating payer AssociatedTokenAccount...\");\n      createAssociatedTokenAccountInstruction(\n        createATAIx,\n        tokenAccount,\n        wallet.publicKey,\n        wallet.publicKey,\n        mintAccount\n      );\n    }\n    let mintIx = Token.createMintToInstruction(\n      TOKEN_PROGRAM_ID,\n      mintAccount,\n      tokenAccount,\n      mintAuthority.publicKey,\n      [mintAuthority],\n      size\n    );\n    signers.push(mintAuthority);\n    await Conn.sendTransactionWithRetry(\n      connection,\n      wallet,\n      [...createATAIx, mintIx],\n      signers,\n      \"max\"\n    );\n  }\n};\n\nexport const initializeHoneypot = async (\n  connection,\n  wallet: any,\n  env: string\n) => {\n  console.log(connection.entrypoint);\n  if (!wallet.publicKey) {\n    notify({ message: \"Wallet not connected!\" });\n    return false;\n  }\n  console.log(wallet.publicKey);\n  let signers: Keypair[] = [];\n  let honeypotIx: TransactionInstruction[] = [];\n  let createMintIx: TransactionInstruction[] = [];\n  let mintIx: TransactionInstruction[] = [];\n  let mintAccount = await getMintAccount(\n    connection,\n    wallet,\n    env,\n    createMintIx,\n    signers\n  );\n  if (!mintAccount) {\n    return false;\n  }\n  let [honeypotKey, _honeypotBumpSeed] = await PublicKey.findProgramAddress(\n    [\n      Buffer.from(\"honeypot\"),\n      mintAccount.toBuffer(),\n      new Uint8Array(TICK_SIZE.toArray(\"le\", 8)),\n      new Uint8Array(MAX_BET_SIZE.toArray(\"le\", 8)),\n      new Uint8Array(MINIMUM_BANK_SIZE.toArray(\"le\", 8)),\n    ],\n    RNG_PROGRAM_ID\n  );\n  let [vaultKey, _vaultBumpSeed] = await PublicKey.findProgramAddress(\n    [\n      Buffer.from(\"vault\"),\n      mintAccount.toBuffer(),\n      new Uint8Array(TICK_SIZE.toArray(\"le\", 8)),\n      new Uint8Array(MAX_BET_SIZE.toArray(\"le\", 8)),\n      new Uint8Array(MINIMUM_BANK_SIZE.toArray(\"le\", 8)),\n    ],\n    RNG_PROGRAM_ID\n  );\n\n  let res = await connection.getAccountInfo(honeypotKey);\n  if (!res) {\n    let { ix } = await initializeHoneypotInstruction(\n      honeypotKey.toBase58(),\n      vaultKey.toBase58(),\n      mintAccount.toBase58(),\n      wallet\n    );\n    honeypotIx = ix;\n    if (env === \"devnet\") {\n      const mintAuthority = Keypair.fromSecretKey(\n        new Uint8Array(DEVNET_MINT_AUTHORITY)\n      );\n      mintIx = [\n        Token.createMintToInstruction(\n          TOKEN_PROGRAM_ID,\n          mintAccount,\n          vaultKey,\n          mintAuthority.publicKey,\n          [mintAuthority],\n          2 * MINIMUM_BANK_SIZE.toNumber()\n        ),\n      ];\n      signers.push(mintAuthority);\n    }\n    const response = await Conn.sendTransactionWithRetry(\n      connection,\n      wallet,\n      [...honeypotIx, ...mintIx],\n      signers,\n      \"max\"\n    );\n    if (!response) {\n      return false;\n    }\n  }\n  return true;\n};\n\nexport const sample = async (\n  connection: Connection,\n  wallet: any,\n  env: string,\n  ctx: any,\n  betTrackerCtx: any\n) => {\n  if (!wallet.publicKey) {\n    notify({ message: \"Wallet not connected!\" });\n    return false;\n  }\n  console.log(wallet.publicKey);\n  let signers: Keypair[] = [];\n  let createMintIx: TransactionInstruction[] = [];\n  let mintAccount = await getMintAccount(\n    connection,\n    wallet,\n    env,\n    createMintIx,\n    signers\n  );\n  if (!mintAccount) {\n    notify({ message: \"Failed to create mint account\" });\n    return false;\n  }\n  let [rngAccountKey, _] = await PublicKey.findProgramAddress(\n    [\n      Buffer.from(\"random\"),\n      toPublicKey(wallet.publicKey).toBuffer(),\n      RNG_PROGRAM_ID.toBuffer(),\n    ],\n    RNG_PROGRAM_ID\n  );\n  let createIx: TransactionInstruction[] = [];\n  if (!rngAccountKey) {\n    notify({ message: \"RNG account invalid\" });\n    return false;\n  }\n  let res = await connection.getAccountInfo(rngAccountKey);\n  if (!res) {\n    let { ix } = await initializeInstruction(\n      rngAccountKey.toBase58(),\n      wallet.publicKey,\n      wallet\n    );\n    createIx = ix;\n  }\n  let bets: RouletteBet[] = [];\n  for (let [bet, amount] of Object.entries(betTrackerCtx.state)) {\n    bets.push(\n      new RouletteBet({\n        bet: BET_TO_IDX[bet],\n        amount: new BN(amount as number),\n      })\n    );\n  }\n  const tokenAccount = (\n    await PublicKey.findProgramAddress(\n      [\n        wallet.publicKey.toBuffer(),\n        TOKEN_PROGRAM_ID.toBuffer(),\n        mintAccount.toBuffer(),\n      ],\n      SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID\n    )\n  )[0];\n\n  const traderHasChipAccount = await connection.getAccountInfo(\n    new PublicKey(tokenAccount)\n  );\n\n  let createATAIx: TransactionInstruction[] = [];\n  if (!traderHasChipAccount) {\n    console.log(\"Creating payer AssociatedTokenAccount...\");\n    createAssociatedTokenAccountInstruction(\n      createATAIx,\n      tokenAccount,\n      wallet.publicKey,\n      wallet.publicKey,\n      mintAccount\n    );\n  }\n\n  let [honeypotKey, _honeypotBumpSeed] = await PublicKey.findProgramAddress(\n    [\n      Buffer.from(\"honeypot\"),\n      mintAccount.toBuffer(),\n      new Uint8Array(TICK_SIZE.toArray(\"le\", 8)),\n      new Uint8Array(MAX_BET_SIZE.toArray(\"le\", 8)),\n      new Uint8Array(MINIMUM_BANK_SIZE.toArray(\"le\", 8)),\n    ],\n    RNG_PROGRAM_ID\n  );\n  let [vaultKey, _vaultBumpSeed] = await PublicKey.findProgramAddress(\n    [\n      Buffer.from(\"vault\"),\n      mintAccount.toBuffer(),\n      new Uint8Array(TICK_SIZE.toArray(\"le\", 8)),\n      new Uint8Array(MAX_BET_SIZE.toArray(\"le\", 8)),\n      new Uint8Array(MINIMUM_BANK_SIZE.toArray(\"le\", 8)),\n    ],\n    RNG_PROGRAM_ID\n  );\n\n  console.log(bets);\n  console.log(honeypotKey.toBase58());\n\n  let sampleIx: TransactionInstruction[] = [];\n  if (env === \"devnet\") {\n    const { ix } = await rouletteInstruction(\n      rngAccountKey.toBase58(),\n      honeypotKey.toBase58(),\n      vaultKey.toBase58(),\n      tokenAccount.toBase58(),\n      DEVNET_MINT.toBase58(),\n      DEVNET_SOL_PRODUCT_ORACLE.toBase58(),\n      DEVNET_SOL_PRICE_ORACLE.toBase58(),\n      DEVNET_BTC_PRODUCT_ORACLE.toBase58(),\n      DEVNET_BTC_PRICE_ORACLE.toBase58(),\n      DEVNET_ETH_PRODUCT_ORACLE.toBase58(),\n      DEVNET_ETH_PRICE_ORACLE.toBase58(),\n      wallet,\n      bets\n    );\n    sampleIx = ix;\n  } else {\n    const { ix } = await rouletteInstruction(\n      rngAccountKey.toBase58(),\n      honeypotKey.toBase58(),\n      vaultKey.toBase58(),\n      tokenAccount.toBase58(),\n      MAINNET_MINT.toBase58(),\n      MAINNET_SOL_PRODUCT_ORACLE.toBase58(),\n      MAINNET_SOL_PRICE_ORACLE.toBase58(),\n      MAINNET_BTC_PRODUCT_ORACLE.toBase58(),\n      MAINNET_BTC_PRICE_ORACLE.toBase58(),\n      MAINNET_ETH_PRODUCT_ORACLE.toBase58(),\n      MAINNET_ETH_PRICE_ORACLE.toBase58(),\n      wallet,\n      bets\n    );\n    sampleIx = ix;\n  }\n\n  const response = await Conn.sendTransactionWithRetry(\n    connection,\n    wallet,\n    [...createIx, ...sampleIx],\n    signers,\n    \"max\"\n  );\n\n  if (!response) {\n    notify({ message: \"Failed to sample program\" });\n    console.log(response);\n    return false;\n  } else {\n    await ctx.updateSample(rngAccountKey);\n    return true;\n  }\n};\n","export const BET_TO_IDX = {\n  Zero: 0,\n  DoubleZero: 1,\n  R1: 2,\n  B2: 3,\n  R3: 4,\n  B4: 5,\n  R5: 6,\n  B6: 7,\n  R7: 8,\n  B8: 9,\n  R9: 10,\n  B10: 11,\n  B11: 12,\n  R12: 13,\n  B13: 14,\n  R14: 15,\n  B15: 16,\n  R16: 17,\n  B17: 18,\n  R18: 19,\n  R19: 20,\n  B20: 21,\n  R21: 22,\n  B22: 23,\n  R23: 24,\n  B24: 25,\n  R25: 26,\n  B26: 27,\n  R27: 28,\n  B28: 29,\n  B29: 30,\n  R30: 31,\n  B31: 32,\n  R32: 33,\n  B33: 34,\n  R34: 35,\n  B35: 36,\n  R36: 37,\n  Red: 38,\n  Black: 39,\n  Even: 40,\n  Odd: 41,\n  Col1: 42,\n  Col2: 43,\n  Col3: 44,\n  Dozen1: 45,\n  Dozen2: 46,\n  Dozen3: 47,\n  Low: 48,\n  High: 49,\n};\n\nexport const BET_TO_NUMBER = {\n  Zero: 0,\n  R1: 1,\n  B2: 2,\n  R3: 3,\n  B4: 4,\n  R5: 5,\n  B6: 6,\n  R7: 7,\n  B8: 8,\n  R9: 9,\n  B10: 10,\n  B11: 11,\n  R12: 12,\n  B13: 13,\n  R14: 14,\n  B15: 15,\n  R16: 16,\n  B17: 17,\n  R18: 18,\n  R19: 19,\n  B20: 20,\n  R21: 21,\n  B22: 22,\n  R23: 23,\n  B24: 24,\n  R25: 25,\n  B26: 26,\n  R27: 27,\n  B28: 28,\n  B29: 29,\n  R30: 30,\n  B31: 31,\n  R32: 32,\n  B33: 33,\n  R34: 34,\n  B35: 35,\n  R36: 36,\n  DoubleZero: 37,\n};\n\nexport const NUMBER_TO_COLOR = {\n  1: \"R\",\n  2: \"B\",\n  3: \"R\",\n  4: \"B\",\n  5: \"R\",\n  6: \"B\",\n  7: \"R\",\n  8: \"B\",\n  9: \"R\",\n  10: \"B\",\n  11: \"B\",\n  12: \"R\",\n  13: \"B\",\n  14: \"R\",\n  15: \"B\",\n  16: \"R\",\n  17: \"B\",\n  18: \"R\",\n  19: \"R\",\n  20: \"B\",\n  21: \"R\",\n  22: \"B\",\n  23: \"R\",\n  24: \"B\",\n  25: \"R\",\n  26: \"B\",\n  27: \"R\",\n  28: \"B\",\n  29: \"B\",\n  30: \"R\",\n  31: \"B\",\n  32: \"R\",\n  33: \"B\",\n  34: \"R\",\n  35: \"B\",\n  36: \"R\",\n};\n","import { AccountLayout, MintLayout, Token } from '@solana/spl-token';\nimport {\n  Account,\n  Keypair,\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport {\n  SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n  TOKEN_PROGRAM_ID,\n  WRAPPED_SOL_MINT,\n} from '../utils/ids';\nimport { programIds } from '../utils/programIds';\nimport { TokenAccount } from '../models/account';\nimport { cache, TokenAccountParser } from '../contexts/AccountContext';\n\nexport function ensureSplAccount(\n  instructions: TransactionInstruction[],\n  cleanupInstructions: TransactionInstruction[],\n  toCheck: TokenAccount,\n  payer: PublicKey,\n  amount: number,\n  signers: Keypair[],\n) {\n  if (!toCheck.info.isNative) {\n    return toCheck.pubkey;\n  }\n\n  const account = createUninitializedAccount(\n    instructions,\n    payer,\n    amount,\n    signers,\n  );\n\n  instructions.push(\n    Token.createInitAccountInstruction(\n      TOKEN_PROGRAM_ID,\n      WRAPPED_SOL_MINT,\n      account,\n      payer,\n    ),\n  );\n\n  cleanupInstructions.push(\n    Token.createCloseAccountInstruction(\n      TOKEN_PROGRAM_ID,\n      account,\n      payer,\n      payer,\n      [],\n    ),\n  );\n\n  return account;\n}\n\nexport const DEFAULT_TEMP_MEM_SPACE = 65548;\n\nexport function createTempMemoryAccount(\n  instructions: TransactionInstruction[],\n  payer: PublicKey,\n  signers: Keypair[],\n  owner: PublicKey,\n  space = DEFAULT_TEMP_MEM_SPACE,\n) {\n  const account = Keypair.generate();\n  instructions.push(\n    SystemProgram.createAccount({\n      fromPubkey: payer,\n      newAccountPubkey: account.publicKey,\n      // 0 will evict/close account since it cannot pay rent\n      lamports: 0,\n      space: space,\n      programId: owner,\n    }),\n  );\n\n  signers.push(account);\n\n  return account.publicKey;\n}\n\nexport function createUninitializedMint(\n  instructions: TransactionInstruction[],\n  payer: PublicKey,\n  amount: number,\n  signers: Keypair[],\n) {\n  const account = Keypair.generate();\n  instructions.push(\n    SystemProgram.createAccount({\n      fromPubkey: payer,\n      newAccountPubkey: account.publicKey,\n      lamports: amount,\n      space: MintLayout.span,\n      programId: TOKEN_PROGRAM_ID,\n    }),\n  );\n\n  signers.push(account);\n\n  return account.publicKey;\n}\n\nexport function createUninitializedAccount(\n  instructions: TransactionInstruction[],\n  payer: PublicKey,\n  amount: number,\n  signers: Keypair[],\n) {\n  const account = Keypair.generate();\n  instructions.push(\n    SystemProgram.createAccount({\n      fromPubkey: payer,\n      newAccountPubkey: account.publicKey,\n      lamports: amount,\n      space: AccountLayout.span,\n      programId: TOKEN_PROGRAM_ID,\n    }),\n  );\n\n  signers.push(account);\n\n  return account.publicKey;\n}\n\nexport function createAssociatedTokenAccountInstruction(\n  instructions: TransactionInstruction[],\n  associatedTokenAddress: PublicKey,\n  payer: PublicKey,\n  walletAddress: PublicKey,\n  splTokenMintAddress: PublicKey,\n) {\n  const keys = [\n    {\n      pubkey: payer,\n      isSigner: true,\n      isWritable: true,\n    },\n    {\n      pubkey: associatedTokenAddress,\n      isSigner: false,\n      isWritable: true,\n    },\n    {\n      pubkey: walletAddress,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: splTokenMintAddress,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: SystemProgram.programId,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: TOKEN_PROGRAM_ID,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: SYSVAR_RENT_PUBKEY,\n      isSigner: false,\n      isWritable: false,\n    },\n  ];\n  instructions.push(\n    new TransactionInstruction({\n      keys,\n      programId: SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n      data: Buffer.from([]),\n    }),\n  );\n}\n\nexport function createMint(\n  instructions: TransactionInstruction[],\n  payer: PublicKey,\n  mintRentExempt: number,\n  decimals: number,\n  owner: PublicKey,\n  freezeAuthority: PublicKey,\n  signers: Keypair[],\n) {\n  const account = createUninitializedMint(\n    instructions,\n    payer,\n    mintRentExempt,\n    signers,\n  );\n\n  instructions.push(\n    Token.createInitMintInstruction(\n      TOKEN_PROGRAM_ID,\n      account,\n      decimals,\n      owner,\n      freezeAuthority,\n    ),\n  );\n\n  return account;\n}\n\nexport function createMintFromAccount(\n  instructions: TransactionInstruction[],\n  payer: PublicKey,\n  amount: number,\n  decimals: number,\n  owner: PublicKey,\n  freezeAuthority: PublicKey,\n  account: Keypair,\n) {\n  instructions.push(\n    SystemProgram.createAccount({\n      fromPubkey: payer,\n      newAccountPubkey: account.publicKey,\n      lamports: amount,\n      space: MintLayout.span,\n      programId: TOKEN_PROGRAM_ID,\n    }),\n  );\n  instructions.push(\n    Token.createInitMintInstruction(\n      TOKEN_PROGRAM_ID,\n      account.publicKey,\n      decimals,\n      owner,\n      freezeAuthority,\n    ),\n  );\n  return account;\n}\n\nexport function createTokenAccount(\n  instructions: TransactionInstruction[],\n  payer: PublicKey,\n  accountRentExempt: number,\n  mint: PublicKey,\n  owner: PublicKey,\n  signers: Keypair[],\n) {\n  const account = createUninitializedAccount(\n    instructions,\n    payer,\n    accountRentExempt,\n    signers,\n  );\n\n  instructions.push(\n    Token.createInitAccountInstruction(TOKEN_PROGRAM_ID, mint, account, owner),\n  );\n\n  return account;\n}\n\nexport function ensureWrappedAccount(\n  instructions: TransactionInstruction[],\n  cleanupInstructions: TransactionInstruction[],\n  toCheck: TokenAccount | undefined,\n  payer: PublicKey,\n  amount: number,\n  signers: Keypair[],\n) {\n  if (toCheck && !toCheck.info.isNative) {\n    return toCheck.pubkey;\n  }\n\n  const TOKEN_PROGRAM_ID = programIds().token;\n  const account = Keypair.generate();\n  instructions.push(\n    SystemProgram.createAccount({\n      fromPubkey: payer,\n      newAccountPubkey: account.publicKey,\n      lamports: amount,\n      space: AccountLayout.span,\n      programId: TOKEN_PROGRAM_ID,\n    }),\n  );\n\n  instructions.push(\n    Token.createInitAccountInstruction(\n      TOKEN_PROGRAM_ID,\n      WRAPPED_SOL_MINT,\n      account.publicKey,\n      payer,\n    ),\n  );\n\n  cleanupInstructions.push(\n    Token.createCloseAccountInstruction(\n      TOKEN_PROGRAM_ID,\n      account.publicKey,\n      payer,\n      payer,\n      [],\n    ),\n  );\n\n  signers.push(account);\n\n  return account.publicKey.toBase58();\n}\n\n// TODO: check if one of to accounts needs to be native sol ... if yes unwrap it ...\nexport function findOrCreateAccountByMint(\n  payer: PublicKey,\n  owner: PublicKey,\n  instructions: TransactionInstruction[],\n  cleanupInstructions: TransactionInstruction[],\n  accountRentExempt: number,\n  mint: PublicKey, // use to identify same type\n  signers: Keypair[],\n  excluded?: Set<string>,\n): PublicKey {\n  const accountToFind = mint.toBase58();\n  const ownerKey = owner.toBase58();\n  const account = cache\n    .byParser(TokenAccountParser)\n    .map(id => cache.get(id))\n    .find(\n      acc =>\n        acc !== undefined &&\n        acc.info.mint.toBase58() === accountToFind &&\n        acc.info.owner.toBase58() === ownerKey &&\n        (excluded === undefined || !excluded.has(acc.pubkey)),\n    );\n  const isWrappedSol = accountToFind === WRAPPED_SOL_MINT.toBase58();\n\n  let toAccount: PublicKey;\n  if (account && !isWrappedSol) {\n    toAccount = new PublicKey(account.pubkey);\n  } else {\n    // creating depositor pool account\n    toAccount = createTokenAccount(\n      instructions,\n      payer,\n      accountRentExempt,\n      mint,\n      owner,\n      signers,\n    );\n\n    if (isWrappedSol) {\n      cleanupInstructions.push(\n        Token.createCloseAccountInstruction(\n          TOKEN_PROGRAM_ID,\n          toAccount,\n          payer,\n          payer,\n          [],\n        ),\n      );\n    }\n  }\n\n  return toAccount;\n}\n","import { PublicKey } from '@solana/web3.js';\nimport { BinaryReader, BinaryWriter } from 'borsh';\nimport base58 from 'bs58';\nimport { StringPublicKey } from './ids';\n\nexport const extendBorsh = () => {\n  (BinaryReader.prototype as any).readPubkey = function () {\n    const reader = this as unknown as BinaryReader;\n    const array = reader.readFixedArray(32);\n    return new PublicKey(array);\n  };\n\n  (BinaryWriter.prototype as any).writePubkey = function (value: PublicKey) {\n    const writer = this as unknown as BinaryWriter;\n    writer.writeFixedArray(value.toBuffer());\n  };\n\n  (BinaryReader.prototype as any).readPubkeyAsString = function () {\n    const reader = this as unknown as BinaryReader;\n    const array = reader.readFixedArray(32);\n    return base58.encode(array) as StringPublicKey;\n  };\n\n  (BinaryWriter.prototype as any).writePubkeyAsString = function (\n    value: StringPublicKey,\n  ) {\n    const writer = this as unknown as BinaryWriter;\n    writer.writeFixedArray(base58.decode(value));\n  };\n};\n\nextendBorsh();\n","import { PublicKey } from \"@solana/web3.js\";\nimport BN from \"bn.js\";\n\nexport const TICK_SIZE = new BN(1);\nexport const MAX_BET_SIZE = new BN(100);\nexport const MINIMUM_BANK_SIZE = new BN(10000);\n\nexport const RNG_PROGRAM_ID = new PublicKey(\"GejaApTc3ShWAgv9jZ8JaFYjZwAw53xz4vD1oAMkjAkc\");\nexport const DEVNET_SOL_PRODUCT_ORACLE = new PublicKey(\"3Mnn2fX6rQyUsyELYms1sBJyChWofzSNRoqYzvgMVz5E\");\nexport const DEVNET_SOL_PRICE_ORACLE = new PublicKey(\"J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix\");\nexport const DEVNET_BTC_PRODUCT_ORACLE = new PublicKey(\"3m1y5h2uv7EQL3KaJZehvAJa4yDNvgc5yAdL9KPMKwvk\");\nexport const DEVNET_BTC_PRICE_ORACLE = new PublicKey(\"HovQMDrbAgAYPCmHVSrezcSmkMtXSSUsLDFANExrZh2J\");\nexport const DEVNET_ETH_PRODUCT_ORACLE = new PublicKey(\"2ciUuGZiee5macAMeQ7bHGTJtwcYTgnt6jdmQnnKZrfu\");\nexport const DEVNET_ETH_PRICE_ORACLE = new PublicKey(\"EdVCmQ9FSPcVe5YySXDPCRmc8aDQLKJ9xvYBMZPie1Vw\");\nexport const DEVNET_MINT = new PublicKey(\"8fwwxHB1DDSXgQ8x7qSjRcoBZv5HpNuHaw4TQ38uXx6r\");\nexport const DEVNET_MINT_KEYPAIR = [123, 54, 202, 92, 60, 81, 101, 228, 217, 69, 240, 128, 106, 56, 4, 78, 186, 73, 164, 115, 245, 230, 127, 74, 150, 128, 75, 75, 224, 181, 87, 213, 113, 252, 2, 46, 232, 183, 214, 164, 222, 80, 242, 143, 151, 50, 75, 74, 82, 90, 15, 33, 38, 15, 184, 235, 146, 30, 189, 223, 40, 134, 41, 95];\nexport const DEVNET_MINT_AUTHORITY = [6, 56, 225, 19, 148, 108, 2, 189, 23, 116, 221, 144, 88, 78, 185, 210, 93, 107, 148, 10, 84, 131, 21, 162, 215, 130, 170, 189, 146, 110, 135, 241, 85, 133, 135, 228, 90, 11, 163, 13, 224, 175, 27, 28, 92, 169, 106, 191, 87, 90, 53, 82, 96, 122, 249, 50, 60, 78, 63, 14, 32, 243, 164, 53];\n\nexport const MAINNET_SOL_PRODUCT_ORACLE = new PublicKey(\"3Mnn2fX6rQyUsyELYms1sBJyChWofzSNRoqYzvgMVz5E\");\nexport const MAINNET_SOL_PRICE_ORACLE = new PublicKey(\"J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix\");\nexport const MAINNET_BTC_PRODUCT_ORACLE = new PublicKey(\"3m1y5h2uv7EQL3KaJZehvAJa4yDNvgc5yAdL9KPMKwvk\");\nexport const MAINNET_BTC_PRICE_ORACLE = new PublicKey(\"HovQMDrbAgAYPCmHVSrezcSmkMtXSSUsLDFANExrZh2J\");\nexport const MAINNET_ETH_PRODUCT_ORACLE = new PublicKey(\"2ciUuGZiee5macAMeQ7bHGTJtwcYTgnt6jdmQnnKZrfu\");\nexport const MAINNET_ETH_PRICE_ORACLE = new PublicKey(\"EdVCmQ9FSPcVe5YySXDPCRmc8aDQLKJ9xvYBMZPie1Vw\");\nexport const MAINNET_MINT = new PublicKey(\"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh\"); // COPE","import React from \"react\";\nimport { Modal } from \"antd\";\n\nimport \"./index.css\";\n\nexport const DefaultModal = (props: any) => {\n  const { children, closeIcon, bodyStyle, style, ...rest } = props;\n\n  return (\n    <Modal\n      style={{ background: \"transparent\", borderRadius: 16 }}\n      bodyStyle={{\n        // boxShadow: '0 0 0 4px rgba(255, 255, 255, 0.51)',\n        borderRadius: 16,\n        background: \"#121212\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        ...bodyStyle,\n      }}\n      footer={null}\n      width={400}\n      {...rest}\n    >\n      {children}\n    </Modal>\n  );\n};\n","import { WalletAdapter, WalletError } from \"@solana/wallet-adapter-base\";\nimport {\n  useWallet,\n  WalletProvider as BaseWalletProvider,\n} from \"@solana/wallet-adapter-react\";\nimport {\n  getLedgerWallet,\n  getMathWallet,\n  getPhantomWallet,\n  getSolflareWallet,\n  getSolletWallet,\n  getSolongWallet,\n  getTorusWallet,\n  WalletName,\n} from \"@solana/wallet-adapter-wallets\";\nimport { Button } from \"antd\";\nimport React, {\n  createContext,\n  FC,\n  ReactNode,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { notify } from \"../../utils\";\nimport { DefaultModal } from \"../../components\";\n\nimport \"./wallet.less\";\n\nexport interface WalletModalContextState {\n  visible: boolean;\n  setVisible: (open: boolean) => void;\n}\n\nexport const WalletModalContext = createContext<WalletModalContextState>(\n  {} as WalletModalContextState\n);\n\nexport function useWalletModal(): WalletModalContextState {\n  return useContext(WalletModalContext);\n}\n\nexport const WalletModal: FC = () => {\n  const { wallets, connected, wallet: selected, select } = useWallet();\n  const { visible, setVisible } = useWalletModal();\n  const [showWallets, setShowWallets] = useState(false);\n  const close = useCallback(() => {\n    setVisible(false);\n    setShowWallets(false);\n  }, [setVisible, setShowWallets]);\n\n  return (\n    <DefaultModal visible={visible} onCancel={close}>\n      <h2\n        style={{\n          color: \"white\",\n          fontWeight: \"bold\",\n          fontSize: 20,\n        }}\n      >\n        {selected ? \"Change provider\" : \"\"}\n      </h2>\n      <p style={{ color: \"white\", fontSize: 14 }}>\n        {selected\n          ? \"Choose from the following options:\"\n          : \"You must be signed in to place a bet\"}\n      </p>\n\n      <br />\n      {wallets.map((wallet) => {\n        return (\n          <Button\n            key={wallet.name}\n            size=\"large\"\n            type={wallet === selected ? \"primary\" : \"ghost\"}\n            onClick={() => {\n              select(wallet.name);\n              close();\n            }}\n            icon={\n              <img\n                alt={`${wallet.name}`}\n                width={20}\n                height={20}\n                src={wallet.icon}\n                style={{ marginRight: 30, float: \"left\" }}\n              />\n            }\n            style={{\n              display: \"block\",\n              width: \"100%\",\n              textAlign: \"left\",\n              marginBottom: 8,\n              color: \"white\",\n            }}\n          >\n            {wallet.name}\n          </Button>\n        );\n      })}\n    </DefaultModal>\n  );\n};\n\nexport const WalletModalProvider: FC<{ children: ReactNode }> = ({\n  children,\n}) => {\n  const { publicKey } = useWallet();\n  const [connected, setConnected] = useState(!!publicKey);\n  const [visible, setVisible] = useState(false);\n\n  useEffect(() => {\n    if (publicKey) {\n      const base58 = publicKey.toBase58();\n      const keyToDisplay =\n        base58.length > 20\n          ? `${base58.substring(0, 7)}.....${base58.substring(\n              base58.length - 7,\n              base58.length\n            )}`\n          : base58;\n\n      notify({\n        message: \"Wallet update\",\n        description: \"Connected to wallet \" + keyToDisplay,\n      });\n    }\n  }, [publicKey]);\n\n  useEffect(() => {\n    if (!publicKey && connected) {\n      notify({\n        message: \"Wallet update\",\n        description: \"Disconnected from wallet\",\n      });\n    }\n    setConnected(!!publicKey);\n  }, [publicKey, connected, setConnected]);\n\n  return (\n    <WalletModalContext.Provider\n      value={{\n        visible,\n        setVisible,\n      }}\n    >\n      {children}\n      <WalletModal />\n    </WalletModalContext.Provider>\n  );\n};\n\nexport const WalletProvider: FC<{ children: ReactNode }> = ({ children }) => {\n  const wallets = useMemo(\n    () => [\n      getPhantomWallet(),\n      getSolflareWallet(),\n      getTorusWallet({\n        options: {\n          // @FIXME: this should be changed for Default, and by each Default storefront\n          clientId:\n            \"BOM5Cl7PXgE9Ylq1Z1tqzhpydY0RVr8k90QQ85N7AKI5QGSrr9iDC-3rvmy0K_hF0JfpLMiXoDhta68JwcxS1LQ\",\n        },\n      }),\n      getLedgerWallet(),\n      getSolongWallet(),\n      getMathWallet(),\n      getSolletWallet(),\n    ],\n    []\n  );\n\n  const onError = useCallback((error: WalletError) => {\n    console.error(error);\n    notify({\n      message: \"Wallet error\",\n      description: error.message,\n    });\n  }, []);\n\n  return (\n    <BaseWalletProvider wallets={wallets} onError={onError} autoConnect>\n      <WalletModalProvider>{children}</WalletModalProvider>\n    </BaseWalletProvider>\n  );\n};\n\nexport type WalletSigner = Pick<\n  WalletAdapter,\n  \"publicKey\" | \"signTransaction\" | \"signAllTransactions\"\n>;\n","export default __webpack_public_path__ + \"static/media/wallet.c746d144.less\";","import React, { useState, useContext, useCallback } from 'react';\n\nimport { WalletModal } from './WalletContext/WalletContext';\n\nexport enum ModalEnum {\n  WALLET = 'wallet',\n}\n\ntype ModalContextProps = {\n  setModal: (modal: ModalEnum | undefined) => void;\n  removeModal: () => void;\n};\n\nexport const ModalContext = React.createContext<ModalContextProps>({\n  setModal: () => null,\n  removeModal: () => null,\n});\n\nexport const ModalProvider: React.FC = ({ children }) => {\n  const [modal, setModal] = useState<ModalEnum | undefined>(undefined);\n\n  const removeModal = useCallback(() => {\n    setModal(undefined);\n  }, [setModal]);\n\n  return (\n    <ModalContext.Provider\n      value={{\n        setModal,\n        removeModal,\n      }}\n    >\n      {children}\n      {modal === ModalEnum.WALLET && <WalletModal />}\n    </ModalContext.Provider>\n  );\n};\n\nexport const useModal = (): ModalContextProps => {\n  const context = useContext(ModalContext);\n  if (context === undefined) {\n    throw new Error('useModal must be used within a ModalProvider');\n  }\n  return context;\n};\n","import { createContext, FC, ReactNode, useContext, useState } from \"react\";\nimport { BET_TO_NUMBER, NUMBER_TO_COLOR } from \"../actions\";\n\nexport const BetTrackerContext = createContext({});\n\nexport function useBetTracker() {\n  return useContext(BetTrackerContext);\n}\n\nexport const BetTrackerProvider: FC<{ children: ReactNode }> = ({\n  children,\n}) => {\n  const [state, setState] = useState({});\n  const [locked, setLocked] = useState(false);\n  const [inc, setInc] = useState(1);\n  const [totalSize, setTotalSize] = useState(0);\n  const [winningBets, setWinningBets] = useState({});\n  const [resolved, setResolved] = useState(false);\n  const [chips, setChips] = useState(0);\n  const [loaded, setLoaded] = useState(false);\n  const [grayscale, setGrayscale] = useState(\"\");\n\n  const updateInc = (i) => {\n    setInc(i);\n  };\n\n  const updateBetResults = (sample) => {\n    for (const bet in state) {\n      const amount = state[bet];\n      if (bet in BET_TO_NUMBER && BET_TO_NUMBER[bet] === sample) {\n        winningBets[bet] = amount * 36;\n      }\n      if (sample === 0 || sample === 37) {\n        continue;\n      }\n      if (bet === 'Odd' && sample % 2 === 1) {\n        winningBets[bet] = amount * 2;\n      } else if (bet === 'Even' && sample % 2 === 0) {\n        winningBets[bet] = amount * 2;\n      } else if (bet === 'Col1' && sample % 3 === 1) {\n        winningBets[bet] = amount * 3;\n      } else if (bet === 'Col2' && sample % 3 === 2) {\n        winningBets[bet] = amount * 3;\n      } else if (bet === 'Col3' && sample % 3 === 0) {\n        winningBets[bet] = amount * 3;\n      } else if (bet === 'Dozen1' && sample <= 12) {\n        winningBets[bet] = amount * 3;\n      } else if (bet === 'Dozen2' && sample > 12 && sample <= 24) {\n        winningBets[bet] = amount * 3;\n      } else if (bet === 'Dozen3' && sample > 24) {\n        winningBets[bet] = amount * 3;\n      } else if (bet === 'Low' && sample <= 18) {\n        winningBets[bet] = amount * 2;\n      } else if (bet === 'High' && sample > 18) {\n        winningBets[bet] = amount * 2;\n      } else if (bet === 'Red' && NUMBER_TO_COLOR[sample] === 'R') {\n        winningBets[bet] = amount * 2;\n      } else if (bet === 'Black' && NUMBER_TO_COLOR[sample] === 'B') {\n        winningBets[bet] = amount * 2;\n      }\n    }\n    console.log(\"Winning Bets\", winningBets);\n    setWinningBets(winningBets);\n    setResolved(true);\n  };\n\n  const increment = (cls) => {\n    let size = inc;\n    let currTotal = totalSize;\n    if (inc + totalSize > chips) {\n      size = chips - totalSize;\n    }\n    if (size > 0) {\n      if (!(cls in state)) {\n        state[cls] = 0;\n      }\n      state[cls] += size;\n      currTotal += size;\n      setState({ ...state });\n      setTotalSize(currTotal);\n    }\n  };\n\n  const lock = () => {\n    setLocked(true);\n  };\n\n  const unlock = () => {\n    setLocked(false);\n  };\n\n  const decrement = (cls) => {\n    if (cls in state && state[cls] > 0) {\n      let currTotal = totalSize;\n      state[cls] -= inc;\n      currTotal -= inc;\n      if (state[cls] <= 0) {\n        delete state[cls];\n        setTotalSize(0);\n      } else {\n        setTotalSize(currTotal);\n      }\n      setState({ ...state });\n    }\n  };\n\n  const clear = () => {\n    setState({});\n    setTotalSize(0);\n    setWinningBets({});\n    setResolved(false);\n  };\n\n  return (\n    <BetTrackerContext.Provider\n      value={{\n        state,\n        locked,\n        resolved,\n        winningBets,\n        chips,\n        loaded,\n        grayscale,\n        setGrayscale,\n        setChips,\n        setLoaded,\n        lock,\n        unlock,\n        increment,\n        decrement,\n        updateInc,\n        clear,\n        updateBetResults,\n      }}\n    >\n      {children}\n    </BetTrackerContext.Provider>\n  );\n};\n","import React, { useContext, useState } from 'react';\nimport BN from 'bn.js';\nimport {\n    decodeRNG\n} from './decoders'\nimport { toPublicKey } from '../utils';\nimport { useConnection } from '../contexts';\nimport { sample } from './transactions';\nexport * from './constants'\n\n\nconst defaultContext = { \n  currentSample: 0,\n  currentRawSample: new BN(0),\n  currentSlot: new BN(0),\n  initialized: false,\n  convertedSamples: [0],\n  rawSamples: [new BN(0)],\n  duplicated: false,\n  sample,\n  updateSample: async (key): Promise<void> => new Promise(() => {}),\n  setState: (values: any): void => undefined,\n}\n\nconst RNGContext = React.createContext({ ...defaultContext });\n\n\nexport function RNGProvider({ children = null as any }) {\n  const connection = useConnection();\n  const [state, setState] = useState({ ...defaultContext });\n\n  return (\n    <RNGContext.Provider\n      value={{\n        ...state,\n        setState,\n        updateSample: async (RNGKey: any) => {\n          const newState = {...state};\n          const RNGAccount = await connection.getAccountInfo(toPublicKey(RNGKey));\n          if (RNGAccount === null) {\n            throw new Error('Failed to find RNG account');\n          }\n          const data = Buffer.from(RNGAccount.data)\n          let RNG = decodeRNG(data);  \n          if (!newState.initialized) {\n              newState.initialized = true;\n              newState.convertedSamples = [];\n              newState.rawSamples = [];\n          }\n          newState.currentRawSample = RNG.sample;\n          newState.currentSample = RNG.sample.modn(38);\n          newState.convertedSamples = [...newState.convertedSamples, newState.currentSample];\n          if (newState.currentSlot === RNG.slot) {\n              newState.duplicated = true;\n          } else {\n              newState.duplicated = false;\n          }\n          newState.currentSlot = RNG.slot;\n          console.log(\"Newest Sample:\", newState.currentSample);\n          console.log(\"RNG\", RNG);\n          console.log(\"Previous state\", state);\n          console.log(\"Full state\", newState);\n          setState(newState);\n        },\n      }}\n    >\n      {children}\n    </RNGContext.Provider>\n  );\n}\n\nexport const useRNG = () => {\n  const context = useContext(RNGContext);\n  return context;\n};\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { Flex } from \"@chakra-ui/react\";\nimport { Button } from \"antd\";\n\nimport ConnectButton from \"../ConnectButton\";\nimport {\n  ModalEnum,\n  useBetTracker,\n  useModal,\n  useWalletModal,\n} from \"../../contexts\";\nimport { useWallet } from \"@solana/wallet-adapter-react\";\nimport {\n  useConnection,\n  useConnectionConfig,\n} from \"../../contexts/ConnectionContext\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport {\n  TICK_SIZE,\n  MAX_BET_SIZE,\n  MINIMUM_BANK_SIZE,\n  DEVNET_MINT,\n  initializeHoneypot,\n  MAINNET_MINT,\n  RNG_PROGRAM_ID,\n  mintChips,\n} from \"../../actions\";\nimport BalancePanel from \"../../components/BalancePanel/BalancePanel\";\n\nconst getMintString = (connection, wallet, env, ctx) => {\n  let mintString;\n  let color;\n  let textColor;\n  const maxChips = MAX_BET_SIZE.toNumber();\n  if (ctx.loaded && ctx.chips < maxChips) {\n    const remainder = maxChips - ctx.chips;\n    mintString = `Mint ${remainder} chips`;\n    color = \"lightgreen\";\n    textColor = \"black\";\n    return (\n      <Button\n        onClick={() => mintChips(connection, wallet, env, remainder)}\n        style={{ backgroundColor: color, color: textColor, border: \"none\" }}\n        disabled={ctx.chips > maxChips}\n      >\n        {mintString}\n      </Button>\n    );\n  } else {\n    return \"\"\n  }\n};\n\nexport const Header: React.FC = () => {\n  const { setModal } = useModal();\n  const { setVisible } = useWalletModal();\n  const wallet = useWallet();\n  const connected = wallet.connected;\n  const connection = useConnection();\n  const { env } = useConnectionConfig();\n  const [honeypotButton, setHoneypotButton] = useState(true);\n  const betTrackerCtx: any = useBetTracker();\n  const open = useCallback(() => setVisible(true), [setVisible]);\n\n  const handleConnect = useCallback(() => {\n    setModal(ModalEnum.WALLET);\n    setVisible(true);\n  }, [setModal, setVisible]);\n\n  useEffect(() => {}, [betTrackerCtx.grayscale]);\n\n  useEffect(() => {\n    const getHoneypot = async () => {\n      let mintAccount = env === \"devnet\" ? DEVNET_MINT : MAINNET_MINT;\n      let [honeypotKey, _honeypotBumpSeed] = await PublicKey.findProgramAddress(\n        [\n          Buffer.from(\"honeypot\"),\n          mintAccount.toBuffer(),\n          new Uint8Array(TICK_SIZE.toArray(\"le\", 8)),\n          new Uint8Array(MAX_BET_SIZE.toArray(\"le\", 8)),\n          new Uint8Array(MINIMUM_BANK_SIZE.toArray(\"le\", 8)),\n        ],\n        RNG_PROGRAM_ID\n      );\n      console.log(\"honeypot\", honeypotKey.toBase58());\n      try {\n        let res = await connection.getAccountInfo(honeypotKey);\n        if (!res) {\n          setHoneypotButton(false);\n        }\n      } catch (e) {\n        console.log(\"Failed to fetch honeypot: \", e);\n        return;\n      }\n    };\n    console.log(wallet.publicKey);\n    getHoneypot();\n  }, [connection]);\n\n  const handleChange = open;\n  return (\n    <Flex backgroundColor=\"#444444\" justifyContent=\"space-between\" minW=\"100%\" filter={betTrackerCtx.grayscale}>\n      <Flex justifyContent=\"flex-begin\">\n        <BalancePanel />\n        <Flex\n          marginLeft=\"180px\"\n          height=\"62px\"\n          justifyContent=\"flex-begin\"\n          alignItems=\"center\"\n        >\n          {getMintString(connection, wallet, env, betTrackerCtx)}\n        </Flex>\n      </Flex>\n      <Flex\n        height=\"62px\"\n        marginLeft=\"20px\"\n        justifyContent=\"flex-begin\"\n        alignItems=\"center\"\n      >\n        {connected && !honeypotButton && (\n          <Button\n            onClick={() =>\n              initializeHoneypot(connection, wallet, env).then((v) => {\n                console.log(v);\n                if (v) {\n                  setHoneypotButton(true);\n                }\n              })\n            }\n          >\n            {\" \"}\n            Create Honeypot{\" \"}\n          </Button>\n        )}\n      </Flex>\n      <Flex height=\"62px\" justifyContent=\"flex-end\" alignItems=\"center\">\n        <ConnectButton\n          isConnected={connected}\n          mr=\"36px\"\n          onClickConnect={handleConnect}\n          onClickChange={handleChange}\n        />\n      </Flex>\n    </Flex>\n  );\n};\n\nexport default Header;\n","import {\n  ButtonGroupProps,\n  ButtonGroup,\n} from \"@chakra-ui/react\";\nimport { useWallet } from \"@solana/wallet-adapter-react\";\nimport { Settings } from \"./Settings\";\n\nexport type ConnectButtonProps = ButtonGroupProps & {\n  isConnected: boolean;\n  onClickConnect: () => void;\n  onClickChange: () => void;\n};\n\nexport const ConnectButton: React.FC<ConnectButtonProps> = ({\n  isConnected,\n  onClickConnect,\n  onClickChange,\n  ...restProps\n}) => {\n  return (\n    <>\n      <ButtonGroup isAttached {...restProps}>\n        <Settings/>\n      </ButtonGroup>\n    </>\n  );\n};\n\nexport default ConnectButton;\n","import React, { useMemo } from \"react\";\nimport { Flex, FlexProps, Text, Image, Box } from \"@chakra-ui/react\";\nimport balanceBgSvg from \"../../assets/images/balance_bg.svg\";\n\nexport type BalanceProps = FlexProps & {\n  cryptoAmount: number;\n};\n\nexport const Balance: React.FC<BalanceProps> = ({\n  cryptoAmount,\n  ...restProps\n}) => {\n  const balance = \"My Balance\";\n  const cryptoAbbr = \"Chips\";\n  return (\n    <Box\n      display=\"flex\"\n      height={\"50px\"}\n      width=\"270px\"\n      backgroundColor=\"grey\"\n      borderLeftRadius={\"32px\"}\n      alignItems=\"center\"\n      boxShadow=\"0px 4px 4px #000000 25%\"\n      {...restProps}\n    >\n      <Flex alignItems=\"center\" justifyContent=\"space-evenly\" flexGrow={1}>\n        <Image width=\"100px\" align=\"\" src=\"./cope.png\" ml=\"16px\" mr=\"10px\" />\n        <Flex flexDirection=\"column\" flexGrow={1}>\n          <Flex justifyContent=\"space-between\">\n            <Text textStyle=\"small\" color=\"white\">\n              {balance}\n            </Text>\n          </Flex>\n          <Flex justifyContent=\"space-between\" marginRight=\"10px\">\n            <Text textStyle=\"caption\" color=\"white\">\n              {cryptoAbbr}\n            </Text>\n            <Text textStyle=\"caption\" color=\"green.300\">\n              {cryptoAmount}\n            </Text>\n          </Flex>\n        </Flex>\n      </Flex>\n    </Box>\n  );\n};\n\nexport default Balance;\n","import React, { useEffect, useState } from \"react\";\nimport { Flex } from \"@chakra-ui/react\";\nimport { Balance } from \"../Balance/Balance\";\nimport { useWallet } from \"@solana/wallet-adapter-react\";\nimport { deserializeAccount, useBetTracker, useConnection, useConnectionConfig } from \"../../contexts\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { TOKEN_PROGRAM_ID, AccountLayout } from \"@solana/spl-token\";\nimport { DEVNET_MINT, MAINNET_MINT } from \"../../actions\";\nimport { SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID } from \"../../utils/ids\";\n\n\nexport const BalancePanel: React.FC = () => {\n  const connection = useConnection();\n  const { env } = useConnectionConfig();\n  const wallet = useWallet();\n  const betTrackerCtx: any = useBetTracker();\n  useEffect(() => {\n    let subId;\n    const getChips = async () => {\n      if (!wallet) {\n        return 0;\n      }\n      if (!wallet.publicKey) {\n        return 0;\n      }\n      const mint = (env === \"devnet\") ? DEVNET_MINT : MAINNET_MINT;\n      const chipTokenAccount = (\n        await PublicKey.findProgramAddress(\n          [wallet.publicKey.toBuffer(), TOKEN_PROGRAM_ID.toBuffer(), mint.toBuffer()],\n          SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID \n        )\n      )[0]\n      const result = await connection.getAccountInfo(chipTokenAccount);\n      if (result) {\n        console.log(\"Received account data\");\n        const tokenAccount = deserializeAccount(result.data);\n        console.log(tokenAccount)\n        betTrackerCtx.setChips(tokenAccount.amount.toNumber());\n      }\n      betTrackerCtx.setLoaded(true);\n      subId = connection.onAccountChange(chipTokenAccount, (result) => {\n        if (result) {\n          console.log(\"Received account data\");\n          try {\n            const tokenAccount = deserializeAccount(result.data);\n            betTrackerCtx.setChips(tokenAccount.amount.toNumber());\n          } catch(e) {\n            console.log(\"Failed to deserialize account\", e)\n          }\n        }\n      });\n    };\n    getChips();\n\n    return () => {\n      if (subId) connection.removeAccountChangeListener(subId);\n    };\n  }, [wallet.connected, wallet, connection, betTrackerCtx.setChips]);\n  return (\n    <Flex\n      flexDirection=\"column\"\n      marginLeft=\"20px\"\n      marginTop=\"5px\"\n      width=\"100px\"\n    >\n      <Balance cryptoAmount={betTrackerCtx.chips as number} />\n    </Flex>\n  );\n};\n\nexport default BalancePanel;\n","import { PublicKey, AccountInfo, Account } from '@solana/web3.js';\n\nexport type StringPublicKey = string;\n\nexport class LazyAccountInfoProxy<T> {\n  executable: boolean = false;\n  owner: StringPublicKey = '';\n  lamports: number = 0;\n\n  get data() {\n    //\n    return undefined as unknown as T;\n  }\n}\n\nexport interface LazyAccountInfo {\n  executable: boolean;\n  owner: StringPublicKey;\n  lamports: number;\n  data: [string, string];\n}\n\nconst PubKeysInternedMap = new Map<string, PublicKey>();\n\nexport const toPublicKey = (key: string | PublicKey) => {\n  if (typeof key !== 'string') {\n    return key;\n  }\n\n  let result = PubKeysInternedMap.get(key);\n  if (!result) {\n    result = new PublicKey(key);\n    PubKeysInternedMap.set(key, result);\n  }\n\n  return result;\n};\n\nexport interface PublicKeyStringAndAccount<T> {\n  pubkey: string;\n  account: AccountInfo<T>;\n}\n\nexport const WRAPPED_SOL_MINT = new PublicKey('So11111111111111111111111111111111111111112');\n\nexport const TOKEN_PROGRAM_ID = new PublicKey('TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA');\n\nexport const SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID = new PublicKey('ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL');\n\nexport const BPF_UPGRADE_LOADER_ID = new PublicKey('BPFLoaderUpgradeab1e11111111111111111111111');\n\nexport const MEMO_ID = new PublicKey('MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr');\n\nexport const SYSTEM = new PublicKey('11111111111111111111111111111111');\n","import { PublicKey } from '@solana/web3.js';\nimport { StringPublicKey } from '../utils';\nimport BN from 'bn.js'\n\nexport class RNG {\n  initialized: number;\n  sample: BN;\n  slot: BN;\n  constructor(args: {\n    initialized: number;\n    sample: BN;\n    slot: BN;\n  }) {\n    this.initialized = args.initialized;\n    this.sample = args.sample;\n    this.slot = args.slot;\n  }\n}\n\nexport class Honeypot {\n  initialized: number;\n  honeypotBumpSeed: number;\n  vaultBumpSeed: number;\n  owner: StringPublicKey;\n  mint: StringPublicKey;\n  tickSize: BN;\n  maxBetSize: BN;\n  minimumBankSize: BN;\n  constructor(args: {\n    initialized: number;\n    honeypotBumpSeed: number;\n    vaultBumpSeed: number;\n    owner: StringPublicKey;\n    mint: StringPublicKey;\n    tickSize: BN;\n    maxBetSize: BN;\n    minimumBankSize: BN;\n  }) {\n    this.initialized = args.initialized;\n    this.honeypotBumpSeed = args.honeypotBumpSeed;\n    this.vaultBumpSeed = args.vaultBumpSeed;\n    this.owner = args.owner;\n    this.mint = args.mint;\n    this.tickSize = args.tickSize;\n    this.maxBetSize = args.maxBetSize;\n    this.minimumBankSize = args.minimumBankSize;\n  }\n}\n\nexport class RouletteBet {\n  bet: number;\n  amount: BN;\n  constructor(args: {\n    bet: number;\n    amount: BN;\n  }) {\n    this.bet = args.bet;\n    this.amount = args.amount;\n  }\n}\n\nexport class InitializeArgs {\n  instruction: number = 0;\n}\n\nexport class SampleArgs {\n  instruction: number = 1;\n  tolerance: BN;\n  constructor(args: {\n      tolerance: BN\n  }) {\n    this.tolerance = args.tolerance;\n  }\n}\n\nexport class InitializeHoneypotArgs {\n  instruction: number = 2;\n  tickSize: BN;\n  maxBetSize: BN;\n  minimumBankSize: BN;\n  constructor(args: {\n    tickSize: BN,\n    maxBetSize: BN;\n    minimumBankSize: BN;\n  }) {\n    this.tickSize = args.tickSize;\n    this.maxBetSize = args.maxBetSize;\n    this.minimumBankSize = args.minimumBankSize;\n  }\n}\n\nexport class WithdrawFromHoneypotArgs {\n  instruction: number = 3;\n  amountToWithdraw: BN;\n  constructor(args: {\n    amountToWithdraw: BN;\n  }) {\n    this.amountToWithdraw = args.amountToWithdraw;\n  }\n}\n\nexport class RouletteArgs {\n  instruction: number = 4;\n  tolerance: BN;\n  bets: RouletteBet[];\n  constructor(args: {\n    tolerance: BN;\n    bets: RouletteBet[];\n  }) {\n    this.tolerance = args.tolerance;\n    this.bets = args.bets;\n  }\n}","export * from './constants';\nexport * from './context';\nexport * from './decoders';\nexport * from './schema';\nexport * from './state';\nexport * from './transactions';\nexport * from './betEnum';","import { extendTheme } from \"@chakra-ui/react\";\n\nconst theme = extendTheme({\n    initialColorMode: \"dark\",\n    useSystemColorMode: false,\n    fonts: {\n        heading: \"Open Sans\",\n        body: \"Roboto\",\n        time: \"Sora\",\n    },\n\n    textStyles: {\n        title: {\n            fontFamily: \"time\",\n            fontSize: \"24px\",\n            fontWeight: \"600\",\n            lineHeight: \"30px\",\n        },\n        emphasis: {\n            fontFamily: \"body\",\n            fontSize: \"20px\",\n            fontWeight: \"bold\",\n            lineHeight: \"23px\",\n        },\n        accent: {\n            fontFamily: \"body\",\n            fontSize: \"16px\",\n            fontWeight: \"bold\",\n            lineHeight: \"28px\",\n        },\n        regular: {\n            fontFamily: \"body\",\n            fontSize: \"16px\",\n            fontWeight: \"400\",\n            lineHeight: \"28px\",\n        },\n        small: {\n            fontFamily: \"body\",\n            fontSize: \"14px\",\n            fontWeight: \"400\",\n            lineHeight: \"24px\",\n        },\n        caption: {\n            fontFamily: \"body\",\n            fontSize: \"12px\",\n            fontWeight: \"400\",\n            lineHeight: \"18px\",\n        },\n        heading: {\n            fontFamily: \"heading\",\n            fontSize: \"11px\",\n            fontWeight: \"600\",\n            lineHeight: \"18px\",\n        },\n        table: {\n            fontFamily: \"body\",\n            fontSize: \"11px\",\n            fontWeight: \"400\",\n            lineHeight: \"18px\",\n        },\n        timer: {\n            fontFamily: \"time\",\n            fontSize: \"14px\",\n            fontWeight: \"400\",\n            lineHeight: \"18px\",\n        },\n    },\n    colors: {\n        brand: {\n            50: \"#616162\",\n            100: \"#1e1e20\",\n            200: \"#131315\",\n            300: \"#323234\",\n            400: \"#141c29\",\n            500: \"#1a2029\",\n            600: \"#202734\",\n            700: \"#0F1724\",\n        },\n        gray: {\n            50: \"#808080\",\n            100: \"#f1f1f1\",\n            200: \"#f2f2f2\",\n            250: \"#cfcfcf\",\n            260: \"#c9c9c9\",\n            300: \"#e5e5e5\",\n            400: \"#969696\",\n            500: \"#434343\",\n            600: \"#464647\",\n        },\n        blue: { 300: \"#0085ff\" },\n        teal: { 300: \"#29bdd2\" },\n        green: {\n            200: \"#1f5e39\",\n            300: \"#00ff00\",\n            400: \"#33cf71\",\n        },\n        red: {\n            300: \"#ed2939\",\n        },\n        purple: {\n            200: \"#a5a6f6\",\n            300: \"#7b61ff\",\n        },\n    },\n});\n\nexport default theme;\n","import React, { useContext, useEffect, useMemo, useRef } from 'react';\nimport confetti from 'canvas-confetti';\nimport { useBetTracker } from '../../contexts';\n\nexport interface ConfettiContextState {\n  dropConfetti: (bool) => void;\n}\n\nconst ConfettiContext = React.createContext<ConfettiContextState | null>(null);\n\nexport const ConfettiProvider = ({ children = null as any }) => {\n  const canvasRef = useRef<HTMLCanvasElement>();\n  const confettiRef = useRef<confetti.CreateTypes>();\n  const betTrackerCtx: any = useBetTracker()\n\n  const dropConfetti = useMemo(\n    () => (won) => {\n      if (confettiRef.current && canvasRef.current) {\n        if (!won) {\n          canvasRef.current.style.filter = \"grayscale(1)\";\n        } else {\n          canvasRef.current.style.filter = \"\";\n        }\n        canvasRef.current.style.visibility = 'visible';\n        confettiRef\n          .current({\n            particleCount: 400,\n            spread: 160,\n            origin: { y: 0.3 },\n          })\n          ?.finally(() => {\n            if (canvasRef.current) {\n              canvasRef.current.style.visibility = 'hidden';\n            }\n          });\n      }\n    },\n    [],\n  );\n\n  useEffect(() => {\n    if (canvasRef.current && !confettiRef.current) {\n      canvasRef.current.style.visibility = 'hidden';\n      confettiRef.current = confetti.create(canvasRef.current, {\n        resize: true,\n        useWorker: true,\n      });\n    }\n  }, []);\n\n  const canvasStyle: React.CSSProperties = {\n    width: '100vw',\n    height: '100vh',\n    position: 'absolute',\n    zIndex: 1,\n    top: 0,\n    left: 0,\n  };\n\n  return (\n    <ConfettiContext.Provider value={{ dropConfetti }}>\n      <canvas ref={canvasRef as any} style={canvasStyle} />\n      {children}\n    </ConfettiContext.Provider>\n  );\n};\n\nexport const Confetti = () => {\n  const { dropConfetti } = useConfetti();\n\n  useEffect(() => {\n    dropConfetti(true);\n  }, [dropConfetti]);\n\n  return <></>;\n};\n\nexport const useConfetti = () => {\n  const context = useContext(ConfettiContext);\n  return context as ConfettiContextState;\n};","import React, { useEffect, useState, useRef } from \"react\";\nimport SpinButton from \"../SpinButton\";\nimport { useRNG } from \"../../actions\";\nimport { useWallet } from \"@solana/wallet-adapter-react\";\n\nimport \"./styles.css\";\nimport { useBetTracker, useConnection, useConnectionConfig } from \"../../contexts\";\nimport { notify } from \"../../utils/notifications\";\nimport { useConfetti } from \"../Confetti\";\n\nconst rouletteState = {\n  list: [\n    \"37\",\n    \"27\",\n    \"10\",\n    \"25\",\n    \"29\",\n    \"12\",\n    \"8\",\n    \"19\",\n    \"31\",\n    \"18\",\n    \"6\",\n    \"21\",\n    \"33\",\n    \"16\",\n    \"4\",\n    \"23\",\n    \"35\",\n    \"14\",\n    \"2\",\n    \"0\",\n    \"28\",\n    \"9\",\n    \"26\",\n    \"30\",\n    \"11\",\n    \"7\",\n    \"20\",\n    \"32\",\n    \"17\",\n    \"5\",\n    \"22\",\n    \"34\",\n    \"15\",\n    \"3\",\n    \"24\",\n    \"36\",\n    \"13\",\n    \"1\",\n  ],\n  radius: 150, // PIXELS\n  spinning: false,\n};\n\nexport const RouletteWheel: React.FC = ({ ...children }) => {\n  let rngCtx: any = useRNG();\n  let confettiCtx: any = useConfetti();\n  let wallet = useWallet();\n  let connection = useConnection();\n  let betTrackerCtx: any = useBetTracker();\n  let [state, setState] = useState(rouletteState);\n  let [surprise, setSurprise] = useState(false);\n  let [startIdx, setStartIdx] = useState(0);\n  let [responseState, setResponseState] = useState({\n    received: true,\n    selected: 0,\n  });\n  let { env } = useConnectionConfig();\n  useEffect(() => {\n    const renderSector = (start, arc, color) => {\n      const canvas = document.getElementById(\"wheel\") as HTMLCanvasElement;\n      if (!canvas) {\n        return;\n      }\n      let ctx = canvas.getContext(\"2d\");\n      if (!ctx) {\n        return;\n      }\n      let x = canvas.width / 2;\n      let y = canvas.height / 2;\n      let radius = state.radius;\n      let startAngle = start;\n      let endAngle = start + arc;\n      ctx.beginPath();\n      ctx.arc(x, y, radius, startAngle, endAngle, false);\n      ctx.lineWidth = radius * 2;\n      ctx.strokeStyle = color;\n      ctx.stroke();\n    };\n\n    const renderText = (index, text, start, arc) => {\n      let canvas = document.getElementById(\"wheel\") as HTMLCanvasElement;\n      if (!canvas) {\n        return;\n      }\n      let ctx = canvas.getContext(\"2d\");\n      if (!ctx) {\n        return;\n      }\n      let x = canvas.width / 2;\n      let y = canvas.height / 2;\n      let radius = state.radius;\n      let angle = arc * index;\n      ctx.save();\n      ctx.font = \"20px Arial\";\n      ctx.fillStyle = \"white\";\n      ctx.lineWidth = 3;\n      let x_offset = x + Math.cos(start + angle + arc / 2) * 1.8 * radius;\n      let y_offset = y + Math.sin(start + angle + arc / 2) * 1.8 * radius;\n      ctx.translate(x_offset, y_offset);\n      ctx.rotate(angle);\n      ctx.fillText(text, -ctx.measureText(text).width / 2, 0);\n      ctx.restore();\n    };\n\n    const drawTriangle = () => {\n      let canvas = document.getElementById(\"wheel\") as HTMLCanvasElement;\n      if (!canvas) {\n        return;\n      }\n      let ctx = canvas.getContext(\"2d\");\n      if (!ctx) {\n        return;\n      }\n      let x = canvas.width / 2;\n      let y = canvas.height / 2;\n      let radius = state.radius;\n      ctx.beginPath();\n      ctx.lineWidth = 1;\n      ctx.fillStyle = \"white\";\n      ctx.strokeStyle = \"white\";\n      let region = new Path2D();\n      region.moveTo(x, y - 2 * radius);\n      region.lineTo(x - 20, y - 2 * radius - 40);\n      region.lineTo(x + 20, y - 2 * radius - 40);\n      region.lineTo(x, y - 2 * radius);\n      region.closePath();\n      ctx.fill(region);\n    };\n\n    const getColor = (i) => {\n      if (parseInt(state.list[i]) === 0 || parseInt(state.list[i]) === 37) {\n        return \"darkseagreen\";\n      } else if (i % 2 === 1) {\n        return \"sienna\";\n      } else {\n        return \"#121212\";\n      }\n    };\n\n    const renderWheel = async () => {\n      let canvas = document.getElementById(\"wheel\") as HTMLCanvasElement;\n      if (!canvas) {\n        return;\n      }\n      let ctx = canvas.getContext(\"2d\");\n      if (!ctx) {\n        return;\n      }\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      let numOptions = state.list.length;\n      let arcSize = (2 * Math.PI) / numOptions;\n      let startAngle = (3 * Math.PI) / 2 - Math.PI / numOptions;\n      let angle = startAngle;\n      let counter = startIdx;\n      for (let i = 0; i < numOptions; i++) {\n        renderSector(angle, arcSize, getColor(counter));\n        counter = (counter + 1) % numOptions;\n        angle += arcSize;\n      }\n      counter = startIdx;\n      for (let i = 0; i < numOptions; i++) {\n        let text = state.list[counter];\n        if (text === \"37\") {\n          text = \"00\";\n        }\n        renderText(i, text, startAngle, arcSize);\n        counter = (counter + 1) % numOptions;\n      }\n      const x = canvas.width / 2;\n      const y = canvas.height / 2;\n      ctx.beginPath();\n      ctx.fillStyle = \"#121212\";\n      ctx.arc(x, y, state.radius * 1.2, 0, 2*Math.PI);\n      ctx.fill()\n      ctx.beginPath();\n      ctx.fillStyle = \"white\";\n      ctx.arc(x - 55, y, 15, 0, 2*Math.PI);\n      ctx.fill()\n      ctx.beginPath();\n      ctx.fillStyle = \"white\";\n      ctx.arc(x, y, 15, 0, 2*Math.PI);\n      ctx.fill()\n      ctx.beginPath();\n      ctx.fillStyle = \"white\";\n      ctx.arc(x + 55, y, 15, 0, 2*Math.PI);\n      ctx.fill()\n      ctx.beginPath();\n      ctx.strokeStyle = \"black\";\n      ctx.lineWidth = 3;\n      ctx.arc(x, y, state.radius * 1.5, 0, 2*Math.PI);\n      ctx.stroke()\n      ctx.beginPath();\n      ctx.strokeStyle = \"gold\";\n      ctx.lineWidth = 2;\n      ctx.arc(x, y, .5 + state.radius * 1.5, 0, 2*Math.PI);\n      ctx.stroke()\n      if (state.spinning) {\n        let nextIdx = (startIdx + 1) % numOptions;\n        if (\n          responseState.received &&\n          parseInt(state.list[nextIdx]) === responseState.selected\n        ) {\n          setState({ ...state, spinning: false });\n          if (surprise) {\n            betTrackerCtx.updateBetResults(rngCtx.currentSample);\n            let bet =  (Object.values(betTrackerCtx.state).reduce(\n              (a, b) => (a as number) + (b as number),\n              0\n            ))\n            let winnings = (Object.values(betTrackerCtx.winningBets).reduce(\n              (a, b) => (a as number) + (b as number),\n              0\n            ));\n            const wonBet = (winnings as number) >= (bet as number);\n            if (!wonBet) {\n              console.log(\"Setting grayscale\")\n              betTrackerCtx.setGrayscale(\"grayscale(1)\")\n            } \n            confettiCtx.dropConfetti(wonBet);\n            setSurprise(false);\n            \n          }\n        }\n        await new Promise((r) => setTimeout(r, 30)).then(() => {\n          setStartIdx(nextIdx);\n        });\n      }\n    };\n    renderWheel();\n    drawTriangle();\n  }, [state.spinning, startIdx, responseState]);\n\n  useEffect(() => {\n    if (rngCtx.initialized) {\n      if (!rngCtx.duplicated) {\n        setResponseState({ received: true, selected: rngCtx.currentSample });\n        setSurprise(true);\n      } else {\n        notify({\n          message:\n            \"Failed to read new value from on-chain sampler. Please try again!\",\n        });\n        console.log(\"ctx\", rngCtx);\n        setState({ ...state, spinning: false });\n        setStartIdx(0);\n        setResponseState({ received: false, selected: 0 });\n      }\n    }\n  }, [rngCtx.currentSample, rngCtx.duplicated, rngCtx.currentSlot]);\n\n  useEffect(\n    () => {},\n    [betTrackerCtx.grayscale],\n  );\n\n  const spin = async () => {\n    setState({\n      ...state,\n      spinning: true,\n    });\n    betTrackerCtx.lock();\n    setResponseState({ ...responseState, received: false });\n    if (!(await rngCtx.sample(connection, wallet, env, rngCtx, betTrackerCtx))) {\n      setState({ ...state, spinning: false });\n      setStartIdx(0);\n      setResponseState({ received: false, selected: 0 });\n      return;\n    }\n  };\n\n  const reset = () => {\n    setStartIdx(0);\n    setState({\n      ...state,\n      spinning: false,\n    });\n    betTrackerCtx.setGrayscale(\"\")\n    betTrackerCtx.unlock();\n    betTrackerCtx.clear();\n    setResponseState({ received: true, selected: 0 });\n  };\n\n  return (\n    <div>\n      <canvas id=\"wheel\" width=\"600\" height=\"680\" style={{filter:betTrackerCtx.grayscale}} />\n      {state.spinning ? (\n        <SpinButton name=\"Loading...\" disabled={true} />\n      ) : !betTrackerCtx.locked ? (\n        <SpinButton\n          name=\"Spin the Wheel\"\n          disabled={\n            0 ===\n            Object.values(betTrackerCtx.state).reduce(\n              (a, b) => (a as number) + (b as number),\n              0\n            )\n          }\n          onClick={spin}\n        />\n      ) : (\n        <SpinButton name=\"Reset\" onClick={reset} style={{filter: \"grayscale(0)\"}} />\n      )}\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport \"./board.css\";\nimport { useBetTracker } from \"../../contexts\";\nimport { Center, Flex, Text } from \"@chakra-ui/react\";\nimport ReactDOM from \"react-dom\";\n\nconst formatCell = (cls, text, ctx) => {\n  let elem = document.querySelector(\".\" + cls);\n  const newStyle: any = {\n    fontSize: 18,\n  }\n  if (elem) {\n    let style = getComputedStyle(elem);\n    if (style) {\n      let color = style.backgroundColor;\n      let rgb = color.match(/\\d+/g);\n      if (rgb && ctx.grayscale !== \"\") {\n        let gray = 0;\n        for (let i = 0; i < rgb.length; i++) {\n          gray += parseInt(rgb[i]);\n        }\n        gray /= rgb.length;\n        newStyle.backgroundColor = `rgb(${gray}, ${gray}, ${gray})`;\n      } else if (ctx.grayscale) {\n        console.log(rgb);\n      }\n    }\n  }\n  return (\n    <div\n      style={newStyle}\n      className={cls}\n      onClick={() => {\n        if (!ctx.locked) ctx.increment(cls);\n      }}\n      onContextMenu={(e) => {\n        if (e.type == \"contextmenu\") {\n          e.preventDefault();\n          if (!ctx.locked) ctx.decrement(cls);\n        }\n      }}\n    >\n      <Flex flexDirection=\"column\">\n        <Flex maxH=\"60%\" minH=\"60%\" align=\"center\">\n          <Center w=\"100%\">\n            <Text textAlign=\"center\"> {text} </Text>{\" \"}\n          </Center>\n        </Flex>\n        <Flex flexDirection=\"row\" minH=\"30%\" maxH=\"30%\" justifyContent='space-between'>\n          <Flex flexDirection=\"column\" flexGrow={1}>\n            <Text\n              fontSize={11}\n              color={!ctx.resolved ? \"lime\" : \"red\"}\n              fontWeight=\"bold\"\n            >\n              {\" \"}\n              {cls in ctx.state ? ctx.state[cls] : \"\"}{\" \"}\n            </Text>\n          </Flex>\n          <Flex flexDirection=\"column\" flexGrow={3}>\n            <Text fontSize={11} color=\"lime\" fontWeight=\"bold\">\n              {\" \"}\n              {cls in ctx.winningBets\n                ? \"+\" + ctx.winningBets[cls].toString()\n                : \"\"}{\" \"}\n            </Text>\n          </Flex>\n        </Flex>\n      </Flex>\n    </div>\n  );\n};\n\nconst formatSideCell = (pct, cls, text, ctx, fSize = 20) => {\n  let elem = document.querySelector(\".\" + cls);\n  const newStyle: any = {\n    fontSize: 18,\n  }\n  if (elem) {\n    let style = getComputedStyle(elem);\n    if (style) {\n      let color = style.backgroundColor;\n      let rgb = color.match(/\\d+/g);\n      if (rgb && ctx.grayscale !== \"\") {\n        let gray = 0;\n        for (let i = 0; i < rgb.length; i++) {\n          gray += parseInt(rgb[i]);\n        }\n        gray /= rgb.length;\n        newStyle.backgroundColor = `rgb(${gray}, ${gray}, ${gray})`;\n      } else if (ctx.grayscale) {\n        console.log(rgb);\n      }\n    }\n  }\n  return (\n    <div\n      style={newStyle}\n      className={cls}\n      onClick={() => {\n        if (!ctx.locked) ctx.increment(cls);\n      }}\n      onContextMenu={(e) => {\n        if (e.type == \"contextmenu\") {\n          e.preventDefault();\n          if (!ctx.locked) ctx.decrement(cls);\n        }\n      }}\n    >\n      <Flex flexDirection=\"row\" minWidth=\"100%\" minHeight=\"100%\">\n        <Flex minH={pct}>\n          <Center h=\"100%\">\n            <Text textAlign=\"center\"> {text} </Text>{\" \"}\n          </Center>\n        </Flex>\n        <Flex flexDirection=\"column\" justifyContent=\"space-between\">\n          <Flex flexGrow={5}>\n            <Text fontSize={11} color=\"lime\" fontWeight=\"bold\"\n              style={{ writingMode: \"horizontal-tb\" }}\n            >\n              {\" \"}\n              {cls in ctx.winningBets\n                ? \"+\" + ctx.winningBets[cls].toString()\n                : \"\"}{\" \"}\n            </Text>\n          </Flex>\n          <Flex flexGrow={1} minHeight=\"100%\">\n            <Text\n              fontSize={11}\n              color={\n                !ctx.resolved ? \"lime\" : \"red\"\n              }\n              fontWeight=\"bold\"\n              style={{ writingMode: \"horizontal-tb\" }}\n            >\n              {\" \"}\n              {cls in ctx.state ? ctx.state[cls] : \"\"}{\" \"}\n            </Text>\n          </Flex>\n        </Flex>\n      </Flex>\n    </div>\n  );\n};\n\nexport const BetSelection: React.FC = ({ ...children }) => {\n  const betTrackerCtx: any = useBetTracker();\n\n  useEffect(\n    () => console.log(\"Resolved:\", betTrackerCtx.resolved),\n    [betTrackerCtx.resolved, betTrackerCtx.winningBets]\n  );\n\n  return (\n    <div className=\"container center\">\n      {formatSideCell(\"81%\", \"Low\", \"0 to 18\", betTrackerCtx, 18)}\n      {formatSideCell(\"81%\", \"Even\", \"Even\", betTrackerCtx)}\n      {formatSideCell(\"81%\", \"Red\", \"\", betTrackerCtx)}\n      {formatSideCell(\"81%\", \"Black\", \"\", betTrackerCtx)}\n      {formatSideCell(\"81%\", \"Odd\", \"Odd\", betTrackerCtx)}\n      {formatSideCell(\"81%\", \"High\", \"19 to 36\", betTrackerCtx, 18)}\n      {formatSideCell(\"90.5%\", \"Dozen1\", \"1st 12\", betTrackerCtx, 24)}\n      {formatSideCell(\"90.5%\", \"Dozen2\", \"2nd 12\", betTrackerCtx, 24)}\n      {formatSideCell(\"90.5%\", \"Dozen3\", \"3rd 12\", betTrackerCtx, 24)}\n      {formatCell(\"Col1\", \"2 to 1\", betTrackerCtx)}\n      {formatCell(\"Col2\", \"2 to 1\", betTrackerCtx)}\n      {formatCell(\"Col3\", \"2 to 1\", betTrackerCtx)}\n      {formatCell(\"Zero\", 0, betTrackerCtx)}\n      {formatCell(\"DoubleZero\", \"00\", betTrackerCtx)}\n      {formatCell(\"R1\", 1, betTrackerCtx)}\n      {formatCell(\"B2\", 2, betTrackerCtx)}\n      {formatCell(\"R3\", 3, betTrackerCtx)}\n      {formatCell(\"B4\", 4, betTrackerCtx)}\n      {formatCell(\"R5\", 5, betTrackerCtx)}\n      {formatCell(\"B6\", 6, betTrackerCtx)}\n      {formatCell(\"R7\", 7, betTrackerCtx)}\n      {formatCell(\"B8\", 8, betTrackerCtx)}\n      {formatCell(\"R9\", 9, betTrackerCtx)}\n      {formatCell(\"B10\", 10, betTrackerCtx)}\n      {formatCell(\"B11\", 11, betTrackerCtx)}\n      {formatCell(\"R12\", 12, betTrackerCtx)}\n      {formatCell(\"B13\", 13, betTrackerCtx)}\n      {formatCell(\"R14\", 14, betTrackerCtx)}\n      {formatCell(\"B15\", 15, betTrackerCtx)}\n      {formatCell(\"R16\", 16, betTrackerCtx)}\n      {formatCell(\"B17\", 17, betTrackerCtx)}\n      {formatCell(\"R18\", 18, betTrackerCtx)}\n      {formatCell(\"R19\", 19, betTrackerCtx)}\n      {formatCell(\"B20\", 20, betTrackerCtx)}\n      {formatCell(\"R21\", 21, betTrackerCtx)}\n      {formatCell(\"B22\", 22, betTrackerCtx)}\n      {formatCell(\"R23\", 23, betTrackerCtx)}\n      {formatCell(\"B24\", 24, betTrackerCtx)}\n      {formatCell(\"R25\", 25, betTrackerCtx)}\n      {formatCell(\"B26\", 26, betTrackerCtx)}\n      {formatCell(\"R27\", 27, betTrackerCtx)}\n      {formatCell(\"B28\", 28, betTrackerCtx)}\n      {formatCell(\"B29\", 29, betTrackerCtx)}\n      {formatCell(\"R30\", 30, betTrackerCtx)}\n      {formatCell(\"B31\", 31, betTrackerCtx)}\n      {formatCell(\"R32\", 32, betTrackerCtx)}\n      {formatCell(\"B33\", 33, betTrackerCtx)}\n      {formatCell(\"R34\", 34, betTrackerCtx)}\n      {formatCell(\"B35\", 35, betTrackerCtx)}\n      {formatCell(\"R36\", 36, betTrackerCtx)}\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Header from \"./components/Header/Header\";\nimport { RouletteWheel } from \"./components/RouletteWheel\";\nimport { BetSelection } from \"./components/BetSelection\";\nimport { Flex } from \"@chakra-ui/layout\";\nimport SpinButton from \"./components/SpinButton\";\nimport { useBetTracker } from \"./contexts\";\nimport { Button, Radio } from \"antd\";\n\nfunction App() {\n  const betTrackerCtx: any = useBetTracker();\n  const [value, setValue] = useState(1);\n  useEffect(() => {}, [betTrackerCtx.grayscale]);\n  return (\n    <div className=\"App\" style={{ backgroundColor: \"transparent\" }}>\n      <Header />\n      <header\n        className=\"App-header\"\n        style={{ backgroundColor: \"transparent\", minHeight: \"90vh\" }}\n      >\n        <Flex\n          flexDirection=\"row\"\n          mt=\"10px\"\n          minW=\"1130px\"\n          justifyContent=\"flex-end\"\n          ml=\"35px\"\n        >\n          <Radio.Group\n            onChange={(e) => {\n              setValue(e.target.value);\n            }}\n            value={value}\n          >\n            <Radio\n              value={1}\n              style={{ color: \"white\" }}\n              onClick={() => betTrackerCtx.updateInc(1)}\n            >\n              1 chip\n            </Radio>\n            <Radio\n              value={2}\n              style={{ color: \"white\" }}\n              onClick={() => betTrackerCtx.updateInc(5)}\n            >\n              5 chips\n            </Radio>\n            <Radio\n              value={3}\n              style={{ color: \"white\" }}\n              onClick={() => betTrackerCtx.updateInc(10)}\n            >\n              10 chips\n            </Radio>\n            <Radio\n              value={4}\n              style={{ color: \"white\" }}\n              onClick={() => betTrackerCtx.updateInc(50)}\n            >\n              50 chips\n            </Radio>\n            <Radio\n              value={5}\n              style={{ color: \"white\" }}\n              onClick={() => betTrackerCtx.updateInc(100)}\n            >\n              100 chips\n            </Radio>\n          </Radio.Group>\n        </Flex>\n        <Flex flexDirection=\"row\" mt=\"0px\">\n          <Flex flexDirection=\"column\" ml=\"35px\" mt=\"40px\">\n            <RouletteWheel />\n          </Flex>\n          <Flex\n            flexDirection=\"column\"\n            ml=\"35px\"\n            mt=\"40px\"\n          >\n            <Flex ml=\"100px\" mt=\"20px\" width=\"300px\" height=\"630px\">\n              <BetSelection />\n            </Flex>\n            <Flex\n              ml=\"170px\"\n              mt=\"32px\"\n              width=\"300px\"\n              height=\"50px\"\n              alignItems=\"center\"\n              alignContent=\"center\"\n              style={{ filter: betTrackerCtx.grayscale }}\n            >\n              <SpinButton\n                alignContent=\"center\"\n                name=\"Reset all Bets\"\n                onClick={() => betTrackerCtx.clear()}\n                disabled={betTrackerCtx.locked}\n              />\n            </Flex>\n          </Flex>\n        </Flex>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ChakraProvider, ColorModeScript } from \"@chakra-ui/react\";\n\nimport {\n  AccountsProvider,\n  BetTrackerProvider,\n  ConnectionProvider,\n  WalletProvider,\n} from \"./contexts\";\nimport { UseWalletProvider } from \"use-wallet\";\n\nimport \"antd/dist/antd.css\";\nimport \"@fontsource/open-sans\";\nimport \"@fontsource/roboto\";\nimport \"@fontsource/sora\";\n\nimport theme from \"./theme/theme\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { RNG, RNGProvider } from \"./actions\";\n\nimport \"./index.css\";\nimport { ConfettiProvider } from \"./components/Confetti\";\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\nReactDOM.render(\n  <React.StrictMode>\n    <ConnectionProvider>\n      <WalletProvider>\n        <UseWalletProvider chainId={5}>\n          <AccountsProvider>\n            <BetTrackerProvider>\n              <ConfettiProvider>\n                <RNGProvider>\n                  <ChakraProvider theme={theme}>\n                    <ColorModeScript\n                      initialColorMode={theme.config.initialColorMode}\n                    />\n                    <App />\n                  </ChakraProvider>\n                </RNGProvider>\n              </ConfettiProvider>\n            </BetTrackerProvider>\n          </AccountsProvider>\n        </UseWalletProvider>\n      </WalletProvider>\n    </ConnectionProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n","import { sleep, useLocalStorageState } from '../utils/utils';\nimport {\n  Keypair,\n  clusterApiUrl,\n  Commitment,\n  Connection,\n  RpcResponseAndContext,\n  SignatureStatus,\n  SimulatedTransactionResponse,\n  Transaction,\n  TransactionInstruction,\n  TransactionSignature,\n  Blockhash,\n  FeeCalculator,\n} from '@solana/web3.js';\nimport React, { useContext, useEffect, useMemo, useState } from 'react';\nimport { notify } from '../utils/notifications';\nimport { ExplorerLink } from '../components/ExplorerLink';\nimport { TokenInfo, TokenListProvider, ENV as ChainId } from '@solana/spl-token-registry';\nimport { WalletSigner } from './WalletContext/WalletContext';\nimport { WalletNotConnectedError } from '@solana/wallet-adapter-base';\n\ninterface BlockhashAndFeeCalculator {\n  blockhash: Blockhash;\n  feeCalculator: FeeCalculator;\n}\n\nexport type ENV =\n  | 'mainnet-beta'\n  | 'mainnet-beta (Solana)'\n  | 'mainnet-beta (Serum)'\n  | 'testnet'\n  | 'devnet'\n  | 'localnet'\n  | 'lending';\n\nexport const ENDPOINTS = [\n  {\n    name: 'devnet' as ENV,\n    endpoint: clusterApiUrl('devnet'),\n    ChainId: ChainId.Devnet,\n  },\n];\n\nconst DEFAULT = ENDPOINTS[0].endpoint;\n\ninterface ConnectionConfig {\n  connection: Connection;\n  endpoint: string;\n  env: ENV;\n  setEndpoint: (val: string) => void;\n  tokens: TokenInfo[];\n  tokenMap: Map<string, TokenInfo>;\n}\n\nconst ConnectionContext = React.createContext<ConnectionConfig>({\n  endpoint: DEFAULT,\n  setEndpoint: () => {},\n  connection: new Connection(DEFAULT, 'recent'),\n  env: ENDPOINTS[0].name,\n  tokens: [],\n  tokenMap: new Map<string, TokenInfo>(),\n});\n\nexport function ConnectionProvider({ children = undefined as any }) {\n  const [endpoint, setEndpoint] = useLocalStorageState('connectionEndpoint', ENDPOINTS[0].endpoint);\n\n  const connection = useMemo(() => new Connection(endpoint, 'recent'), [endpoint]);\n\n  const env = ENDPOINTS.find((end) => end.endpoint === endpoint)?.name || ENDPOINTS[0].name;\n\n  const [tokens, setTokens] = useState<TokenInfo[]>([]);\n  const [tokenMap, setTokenMap] = useState<Map<string, TokenInfo>>(new Map());\n  useEffect(() => {\n    // fetch token files\n    new TokenListProvider().resolve().then((container) => {\n      const list = container\n        .excludeByTag('nft')\n        .filterByChainId(ENDPOINTS.find((end) => end.endpoint === endpoint)?.ChainId || ChainId.MainnetBeta)\n        .getList();\n\n      const knownMints = [...list].reduce((map, item) => {\n        map.set(item.address, item);\n        return map;\n      }, new Map<string, TokenInfo>());\n\n      setTokenMap(knownMints);\n      setTokens(list);\n    });\n  }, [env]);\n\n  // The websocket library solana/web3.js uses closes its websocket connection when the subscription list\n  // is empty after opening its first time, preventing subsequent subscriptions from receiving responses.\n  // This is a hack to prevent the list from every getting empty\n  useEffect(() => {\n    const id = connection.onAccountChange(Keypair.generate().publicKey, () => {});\n    return () => {\n      connection.removeAccountChangeListener(id);\n    };\n  }, [connection]);\n\n  useEffect(() => {\n    const id = connection.onSlotChange(() => null);\n    return () => {\n      connection.removeSlotChangeListener(id);\n    };\n  }, [connection]);\n\n  return (\n    <ConnectionContext.Provider\n      value={{\n        endpoint,\n        setEndpoint,\n        connection,\n        tokens,\n        tokenMap,\n        env,\n      }}\n    >\n      {children}\n    </ConnectionContext.Provider>\n  );\n}\n\nexport function useConnection() {\n  return useContext(ConnectionContext).connection as Connection;\n}\n\nexport function useConnectionConfig() {\n  const context = useContext(ConnectionContext);\n  return {\n    endpoint: context.endpoint,\n    setEndpoint: context.setEndpoint,\n    env: context.env,\n    tokens: context.tokens,\n    tokenMap: context.tokenMap,\n  };\n}\n\nexport const getErrorForTransaction = async (connection: Connection, txid: string) => {\n  // wait for all confirmation before geting transaction\n  await connection.confirmTransaction(txid, 'max');\n\n  const tx = await connection.getParsedConfirmedTransaction(txid);\n\n  const errors: string[] = [];\n  if (tx?.meta && tx.meta.logMessages) {\n    tx.meta.logMessages.forEach((log) => {\n      const regex = /Error: (.*)/gm;\n      let m;\n      while ((m = regex.exec(log)) !== null) {\n        // This is necessary to avoid infinite loops with zero-width matches\n        if (m.index === regex.lastIndex) {\n          regex.lastIndex++;\n        }\n\n        if (m.length > 1) {\n          errors.push(m[1]);\n        }\n      }\n    });\n  }\n\n  return errors;\n};\n\nexport enum SequenceType {\n  Sequential,\n  Parallel,\n  StopOnFailure,\n}\n\nexport async function sendTransactionsWithManualRetry(\n  connection: Connection,\n  wallet: WalletSigner,\n  instructions: TransactionInstruction[][],\n  signers: Keypair[][]\n) {\n  let stopPoint = 0;\n  let tries = 0;\n  let lastInstructionsLength: any = null;\n  let toRemoveSigners: Record<number, boolean> = {};\n  instructions = instructions.filter((instr, i) => {\n    if (instr.length > 0) {\n      return true;\n    } else {\n      toRemoveSigners[i] = true;\n      return false;\n    }\n  });\n  let filteredSigners = signers.filter((_, i) => !toRemoveSigners[i]);\n\n  while (stopPoint < instructions.length && tries < 3) {\n    instructions = instructions.slice(stopPoint, instructions.length);\n    filteredSigners = filteredSigners.slice(stopPoint, filteredSigners.length);\n\n    if (instructions.length === lastInstructionsLength) tries = tries + 1;\n    else tries = 0;\n\n    try {\n      if (instructions.length === 1) {\n        await sendTransactionWithRetry(connection, wallet, instructions[0], filteredSigners[0], 'single');\n        stopPoint = 1;\n      } else {\n        stopPoint = await sendTransactions(\n          connection,\n          wallet,\n          instructions,\n          filteredSigners,\n          SequenceType.StopOnFailure,\n          'single'\n        );\n      }\n    } catch (e) {\n      console.error(e);\n    }\n    console.log(\n      'Died on ',\n      stopPoint,\n      'retrying from instruction',\n      instructions[stopPoint],\n      'instructions length is',\n      instructions.length\n    );\n    lastInstructionsLength = instructions.length;\n  }\n}\n\nexport const sendTransactions = async (\n  connection: Connection,\n  wallet: WalletSigner,\n  instructionSet: TransactionInstruction[][],\n  signersSet: Keypair[][],\n  sequenceType: SequenceType = SequenceType.Parallel,\n  commitment: Commitment = 'singleGossip',\n  successCallback: (txid: string, ind: number) => void = (txid, ind) => {},\n  failCallback: (reason: string, ind: number) => boolean = (txid, ind) => false,\n  block?: BlockhashAndFeeCalculator\n): Promise<number> => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n\n  const unsignedTxns: Transaction[] = [];\n\n  if (!block) {\n    block = await connection.getRecentBlockhash(commitment);\n  }\n\n  for (let i = 0; i < instructionSet.length; i++) {\n    const instructions = instructionSet[i];\n    const signers = signersSet[i];\n\n    if (instructions.length === 0) {\n      continue;\n    }\n\n    let transaction = new Transaction();\n    instructions.forEach((instruction) => transaction.add(instruction));\n    transaction.recentBlockhash = block.blockhash;\n    transaction.setSigners(\n      // fee payed by the wallet owner\n      wallet.publicKey,\n      ...signers.map((s) => s.publicKey)\n    );\n\n    if (signers.length > 0) {\n      transaction.partialSign(...signers);\n    }\n\n    unsignedTxns.push(transaction);\n  }\n\n  const signedTxns = await wallet.signAllTransactions(unsignedTxns);\n\n  const pendingTxns: Promise<{ txid: string; slot: number }>[] = [];\n\n  let breakEarlyObject = { breakEarly: false, i: 0 };\n  console.log('Signed txns length', signedTxns.length, 'vs handed in length', instructionSet.length);\n  for (let i = 0; i < signedTxns.length; i++) {\n    const signedTxnPromise = sendSignedTransaction({\n      connection,\n      signedTransaction: signedTxns[i],\n    });\n\n    signedTxnPromise\n      .then(({ txid, slot }) => {\n        successCallback(txid, i);\n      })\n      .catch((reason) => {\n        // @ts-ignore\n        failCallback(signedTxns[i], i);\n        if (sequenceType === SequenceType.StopOnFailure) {\n          breakEarlyObject.breakEarly = true;\n          breakEarlyObject.i = i;\n        }\n      });\n\n    if (sequenceType !== SequenceType.Parallel) {\n      try {\n        await signedTxnPromise;\n      } catch (e) {\n        console.log('Caught failure', e);\n        if (breakEarlyObject.breakEarly) {\n          console.log('Died on ', breakEarlyObject.i);\n          return breakEarlyObject.i; // Return the txn we failed on by index\n        }\n      }\n    } else {\n      pendingTxns.push(signedTxnPromise);\n    }\n  }\n\n  if (sequenceType !== SequenceType.Parallel) {\n    await Promise.all(pendingTxns);\n  }\n\n  return signedTxns.length;\n};\n\nexport const sendTransaction = async (\n  connection: Connection,\n  wallet: WalletSigner,\n  instructions: TransactionInstruction[],\n  signers: Keypair[],\n  awaitConfirmation = true,\n  commitment: Commitment = 'singleGossip',\n  includesFeePayer: boolean = false,\n  block?: BlockhashAndFeeCalculator\n) => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n\n  let transaction = new Transaction();\n  instructions.forEach((instruction) => transaction.add(instruction));\n  transaction.recentBlockhash = (block || (await connection.getRecentBlockhash(commitment))).blockhash;\n\n  if (includesFeePayer) {\n    transaction.setSigners(...signers.map((s) => s.publicKey));\n  } else {\n    transaction.setSigners(\n      // fee payed by the wallet owner\n      wallet.publicKey,\n      ...signers.map((s) => s.publicKey)\n    );\n  }\n\n  if (signers.length > 0) {\n    transaction.partialSign(...signers);\n  }\n  if (!includesFeePayer) {\n    transaction = await wallet.signTransaction(transaction);\n  }\n\n  const rawTransaction = transaction.serialize();\n  let options = {\n    skipPreflight: true,\n    commitment,\n  };\n\n  const txid = await connection.sendRawTransaction(rawTransaction, options);\n  let slot = 0;\n\n  if (awaitConfirmation) {\n    const confirmation = await awaitTransactionSignatureConfirmation(txid, DEFAULT_TIMEOUT, connection, commitment);\n\n    if (!confirmation) throw new Error('Timed out awaiting confirmation on transaction');\n    slot = confirmation?.slot || 0;\n\n    if (confirmation?.err) {\n      const errors = await getErrorForTransaction(connection, txid);\n      notify({\n        message: 'Transaction failed...',\n        description: (\n          <>\n            {errors.map((err) => (\n              <div>{err}</div>\n            ))}\n            <ExplorerLink address={txid} type='transaction' />\n          </>\n        ),\n        type: 'error',\n      });\n\n      throw new Error(`Raw transaction ${txid} failed`);\n    }\n  }\n\n  return { txid, slot };\n};\n\nexport const sendTransactionWithRetry = async (\n  connection: Connection,\n  wallet: WalletSigner,\n  instructions: TransactionInstruction[],\n  signers: Keypair[],\n  commitment: Commitment = 'singleGossip',\n  includesFeePayer: boolean = false,\n  block?: BlockhashAndFeeCalculator,\n  beforeSend?: () => void\n) => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n\n  let transaction = new Transaction();\n  instructions.forEach((instruction) => transaction.add(instruction));\n  transaction.recentBlockhash = (block || (await connection.getRecentBlockhash(commitment))).blockhash;\n\n  if (includesFeePayer) {\n    transaction.setSigners(...signers.map((s) => s.publicKey));\n  } else {\n    transaction.setSigners(\n      // fee payed by the wallet owner\n      wallet.publicKey,\n      ...signers.map((s) => s.publicKey)\n    );\n  }\n\n  if (signers.length > 0) {\n    transaction.partialSign(...signers);\n  }\n  if (!includesFeePayer) {\n    try {\n      transaction = await wallet.signTransaction(transaction);\n    } catch {\n      return false;\n    }\n  }\n\n  if (beforeSend) {\n    beforeSend();\n  }\n  console.log(\"About to send\");\n  try {\n    const { txid, slot } = await sendSignedTransaction({\n      connection,\n      signedTransaction: transaction,\n    });\n\n    return { txid, slot };\n  } catch (error) {\n    console.error(error)\n  }\n};\n\nexport const getUnixTs = () => {\n  return new Date().getTime() / 1000;\n};\n\nconst DEFAULT_TIMEOUT = 15000;\n\nexport async function sendSignedTransaction({\n  signedTransaction,\n  connection,\n  timeout = DEFAULT_TIMEOUT,\n}: {\n  signedTransaction: Transaction;\n  connection: Connection;\n  sendingMessage?: string;\n  sentMessage?: string;\n  successMessage?: string;\n  timeout?: number;\n}): Promise<{ txid: string; slot: number }> {\n  const rawTransaction = signedTransaction.serialize();\n  const startTime = getUnixTs();\n  let slot = 0;\n  const txid: TransactionSignature = await connection.sendRawTransaction(rawTransaction, {\n    skipPreflight: true,\n  });\n\n  console.log('Started awaiting confirmation for', txid);\n\n  let done = false;\n  (async () => {\n    while (!done && getUnixTs() - startTime < timeout) {\n      connection.sendRawTransaction(rawTransaction, {\n        skipPreflight: true,\n      });\n      await sleep(500);\n    }\n  })();\n  try {\n    const confirmation = await awaitTransactionSignatureConfirmation(txid, timeout, connection, 'recent', true);\n\n    if (!confirmation) throw new Error('Timed out awaiting confirmation on transaction');\n\n    if (confirmation.err) {\n      console.error(confirmation.err);\n      throw new Error('Transaction failed: Custom instruction error');\n    }\n\n    slot = confirmation?.slot || 0;\n  } catch (err) {\n    console.error('Timeout Error caught', err);\n    if ((err as any).timeout) {\n      throw new Error('Timed out awaiting confirmation on transaction');\n    }\n    let simulateResult: SimulatedTransactionResponse | null = null;\n    try {\n      simulateResult = (await simulateTransaction(connection, signedTransaction, 'single')).value;\n    } catch (e) {}\n    if (simulateResult && simulateResult.err) {\n      if (simulateResult.logs) {\n        for (let i = simulateResult.logs.length - 1; i >= 0; --i) {\n          const line = simulateResult.logs[i];\n          if (line.startsWith('Program log: ')) {\n            throw new Error('Transaction failed: ' + line.slice('Program log: '.length));\n          }\n        }\n      }\n      throw new Error(JSON.stringify(simulateResult.err));\n    }\n    // throw new Error('Transaction failed');\n  } finally {\n    done = true;\n  }\n\n  console.log('Latency', txid, getUnixTs() - startTime);\n  return { txid, slot };\n}\n\nasync function simulateTransaction(\n  connection: Connection,\n  transaction: Transaction,\n  commitment: Commitment\n): Promise<RpcResponseAndContext<SimulatedTransactionResponse>> {\n  // @ts-ignore\n  transaction.recentBlockhash = await connection._recentBlockhash(\n    // @ts-ignore\n    connection._disableBlockhashCaching\n  );\n\n  const signData = transaction.serializeMessage();\n  // @ts-ignore\n  const wireTransaction = transaction._serialize(signData);\n  const encodedTransaction = wireTransaction.toString('base64');\n  const config: any = { encoding: 'base64', commitment };\n  const args = [encodedTransaction, config];\n\n  // @ts-ignore\n  const res = await connection._rpcRequest('simulateTransaction', args);\n  if (res.error) {\n    throw new Error('failed to simulate transaction: ' + res.error.message);\n  }\n  return res.result;\n}\n\nasync function awaitTransactionSignatureConfirmation(\n  txid: TransactionSignature,\n  timeout: number,\n  connection: Connection,\n  commitment: Commitment = 'recent',\n  queryStatus = false\n): Promise<SignatureStatus | null | void> {\n  let done = false;\n  let status: SignatureStatus | null | void = {\n    slot: 0,\n    confirmations: 0,\n    err: null,\n  };\n  let subId = 0;\n  status = await new Promise(async (resolve, reject) => {\n    setTimeout(() => {\n      if (done) {\n        return;\n      }\n      done = true;\n      console.log('Rejecting for timeout...');\n      reject({ timeout: true });\n    }, timeout);\n    try {\n      subId = connection.onSignature(\n        txid,\n        (result, context) => {\n          done = true;\n          status = {\n            err: result.err,\n            slot: context.slot,\n            confirmations: 0,\n          };\n          if (result.err) {\n            console.log('Rejected via websocket', result.err);\n            reject(status);\n          } else {\n            console.log('Resolved via websocket', result);\n            resolve(status);\n          }\n        },\n        commitment\n      );\n    } catch (e) {\n      done = true;\n      console.error('WS error in setup', txid, e);\n    }\n    while (!done && queryStatus) {\n      // eslint-disable-next-line no-loop-func\n      (async () => {\n        try {\n          const signatureStatuses = await connection.getSignatureStatuses([txid]);\n          status = signatureStatuses && signatureStatuses.value[0];\n          console.log(`https://explorer.solana.com/tx/${txid}?cluster=devnet`) // TODO\n          if (!done) {\n            if (!status) {\n              console.log('REST null result for', txid, status);\n            } else if (status.err) {\n              console.log('REST error for', txid, status);\n              done = true;\n              reject(status.err);\n            } else if (!status.confirmations) {\n              console.log('REST no confirmations for', txid, status);\n            } else {\n              console.log('REST confirmation for', txid, status);\n              done = true;\n              resolve(status);\n            }\n          }\n        } catch (e) {\n          if (!done) {\n            console.log('REST connection error: txid', txid, e);\n          }\n        }\n      })();\n      await sleep(2000);\n    }\n  });\n\n  //@ts-ignore\n  if (connection._signatureSubscriptions[subId]) connection.removeSignatureListener(subId);\n  done = true;\n  console.log('Returning status', status);\n  return status;\n}","import {\n  RNG,\n  RouletteBet,\n  InitializeArgs,\n  SampleArgs,\n  InitializeHoneypotArgs,\n  WithdrawFromHoneypotArgs,\n  RouletteArgs,\n} from \"./state\";\n\nexport const schema = new Map<any, any>([\n  [\n    InitializeArgs,\n    {\n      kind: \"struct\",\n      fields: [[\"instruction\", \"u8\"]],\n    },\n  ],\n  [\n    SampleArgs,\n    {\n      kind: \"struct\",\n      fields: [\n        [\"instruction\", \"u8\"],\n        [\"tolerance\", \"u64\"],\n      ],\n    },\n  ],\n  [\n    InitializeHoneypotArgs,\n    {\n      kind: \"struct\",\n      fields: [\n        [\"instruction\", \"u8\"],\n        [\"tickSize\", \"u64\"],\n        [\"maxBetSize\", \"u64\"],\n        [\"minimumBankSize\", \"u64\"],\n      ],\n    },\n  ],\n  [\n    WithdrawFromHoneypotArgs,\n    {\n      kind: \"struct\",\n      fields: [\n        [\"instruction\", \"u8\"],\n        [\"amountToWithdraw\", \"u64\"],\n      ],\n    },\n  ],\n  [\n    RouletteBet,\n    {\n      kind: \"struct\",\n      fields: [\n        [\"bet\", \"u8\"],\n        [\"amount\", \"u64\"],\n      ],\n    },\n  ],\n  [\n    RouletteArgs,\n    {\n      kind: \"struct\",\n      fields: [\n        [\"instruction\", \"u8\"],\n        [\"tolerance\", \"u64\"],\n        [\"bets\", [RouletteBet]],\n      ],\n    },\n  ],\n  [\n    RNG,\n    {\n      kind: \"struct\",\n      fields: [\n        [\"initialized\", \"u8\"],\n        [\"sample\", \"u64\"],\n        [\"slot\", \"u64\"],\n      ],\n    },\n  ],\n]);\n","import BN from 'bn.js';\n\nexport const TEN = new BN(10);\nexport const HALF_WAD = TEN.pow(new BN(18));\nexport const WAD = TEN.pow(new BN(18));\nexport const RAY = TEN.pow(new BN(27));\nexport const ZERO = new BN(0);\n","import { useCallback, useState } from 'react';\nimport { MintInfo } from '@solana/spl-token';\n\nimport { TokenAccount } from './../models';\nimport { PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { WAD, ZERO } from '../constants';\nimport { TokenInfo } from '@solana/spl-token-registry';\n\nexport type KnownTokenMap = Map<string, TokenInfo>;\n\nexport const formatPriceNumber = new Intl.NumberFormat('en-US', {\n  style: 'decimal',\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 8,\n});\n\nexport function useLocalStorageState(key: string, defaultState?: string) {\n  const [state, setState] = useState(() => {\n    // NOTE: Not sure if this is ok\n    const storedState = localStorage.getItem(key);\n    if (storedState) {\n      return JSON.parse(storedState);\n    }\n    return defaultState;\n  });\n\n  const setLocalStorageState = useCallback(\n    newState => {\n      const changed = state !== newState;\n      if (!changed) {\n        return;\n      }\n      setState(newState);\n      if (newState === null) {\n        localStorage.removeItem(key);\n      } else {\n        try {\n          localStorage.setItem(key, JSON.stringify(newState));\n        } catch {\n          // ignore\n        }\n      }\n    },\n    [state, key],\n  );\n\n  return [state, setLocalStorageState];\n}\n\nexport const findProgramAddress = async (\n  seeds: (Buffer | Uint8Array)[],\n  programId: PublicKey,\n) => {\n  const key =\n    'pda-' +\n    seeds.reduce((agg, item) => agg + item.toString('hex'), '') +\n    programId.toString();\n  let cached = localStorage.getItem(key);\n  if (cached) {\n    const value = JSON.parse(cached);\n\n    return [value.key, parseInt(value.nonce)] as [string, number];\n  }\n\n  const result = await PublicKey.findProgramAddress(seeds, programId);\n\n  try {\n    localStorage.setItem(\n      key,\n      JSON.stringify({\n        key: result[0].toBase58(),\n        nonce: result[1],\n      }),\n    );\n  } catch {\n    // ignore\n  }\n\n  return [result[0].toBase58(), result[1]] as [string, number];\n};\n\n// shorten the checksummed version of the input address to have 4 characters at start and end\nexport function shortenAddress(address: string, chars = 4): string {\n  return `${address.slice(0, chars)}...${address.slice(-chars)}`;\n}\n\nexport function getTokenName(\n  map: KnownTokenMap,\n  mint?: string | PublicKey,\n  shorten = true,\n): string {\n  const mintAddress = typeof mint === 'string' ? mint : mint?.toBase58();\n\n  if (!mintAddress) {\n    return 'N/A';\n  }\n\n  const knownSymbol = map.get(mintAddress)?.symbol;\n  if (knownSymbol) {\n    return knownSymbol;\n  }\n\n  return shorten ? `${mintAddress.substring(0, 5)}...` : mintAddress;\n}\nexport function getVerboseTokenName(\n  map: KnownTokenMap,\n  mint?: string | PublicKey,\n  shorten = true,\n): string {\n  const mintAddress = typeof mint === 'string' ? mint : mint?.toBase58();\n\n  if (!mintAddress) {\n    return 'N/A';\n  }\n\n  const knownName = map.get(mintAddress)?.name;\n  if (knownName) {\n    return knownName;\n  }\n\n  return shorten ? `${mintAddress.substring(0, 5)}...` : mintAddress;\n}\n\nexport function getTokenByName(tokenMap: KnownTokenMap, name: string) {\n  let token: TokenInfo | null = null;\n  for (const val of tokenMap.values()) {\n    if (val.symbol === name) {\n      token = val;\n      break;\n    }\n  }\n  return token;\n}\n\nexport function getTokenIcon(\n  map: KnownTokenMap,\n  mintAddress?: string | PublicKey,\n): string | undefined {\n  const address =\n    typeof mintAddress === 'string' ? mintAddress : mintAddress?.toBase58();\n  if (!address) {\n    return;\n  }\n\n  return map.get(address)?.logoURI;\n}\n\nexport function isKnownMint(map: KnownTokenMap, mintAddress: string) {\n  return !!map.get(mintAddress);\n}\n\nexport const STABLE_COINS = new Set(['USDC', 'wUSDC', 'USDT']);\n\nexport function chunks<T>(array: T[], size: number): T[][] {\n  return Array.apply<number, T[], T[][]>(\n    0,\n    new Array(Math.ceil(array.length / size)),\n  ).map((_, index) => array.slice(index * size, (index + 1) * size));\n}\n\nexport function toLamports(\n  account?: TokenAccount | number,\n  mint?: MintInfo,\n): number {\n  if (!account) {\n    return 0;\n  }\n\n  const amount =\n    typeof account === 'number' ? account : account.info.amount?.toNumber();\n\n  const precision = Math.pow(10, mint?.decimals || 0);\n  return Math.floor(amount * precision);\n}\n\nexport function wadToLamports(amount?: BN): BN {\n  return amount?.div(WAD) || ZERO;\n}\n\nexport function fromLamports(\n  account?: TokenAccount | number | BN,\n  mint?: MintInfo,\n  rate: number = 1.0,\n): number {\n  if (!account) {\n    return 0;\n  }\n\n  const amount = Math.floor(\n    typeof account === 'number'\n      ? account\n      : BN.isBN(account)\n      ? account.toNumber()\n      : account.info.amount.toNumber(),\n  );\n\n  const precision = Math.pow(10, mint?.decimals || 9);\n  return (amount / precision) * rate;\n}\n\nexport const tryParseKey = (key: string): PublicKey | null => {\n  try {\n    return new PublicKey(key);\n  } catch (error) {\n    return null;\n  }\n};\n\nvar SI_SYMBOL = ['', 'k', 'M', 'G', 'T', 'P', 'E'];\n\nconst abbreviateNumber = (number: number, precision: number) => {\n  let tier = (Math.log10(number) / 3) | 0;\n  let scaled = number;\n  let suffix = SI_SYMBOL[tier];\n  if (tier !== 0) {\n    let scale = Math.pow(10, tier * 3);\n    scaled = number / scale;\n  }\n\n  return scaled.toFixed(precision) + suffix;\n};\n\nexport const formatAmount = (\n  val: number,\n  precision: number = 2,\n  abbr: boolean = true,\n) => (abbr ? abbreviateNumber(val, precision) : val.toFixed(precision));\n\nexport function formatTokenAmount(\n  account?: TokenAccount | number | BN,\n  mint?: MintInfo,\n  rate: number = 1.0,\n  prefix = '',\n  suffix = '',\n  precision = 2,\n  abbr = false,\n): string {\n  if (!account) {\n    return '';\n  }\n\n  return `${[prefix]}${formatAmount(\n    fromLamports(account, mint, rate),\n    precision,\n    abbr,\n  )}${suffix}`;\n}\n\nexport const formatUSD = new Intl.NumberFormat('en-US', {\n  style: 'currency',\n  currency: 'USD',\n});\n\nconst numberFormater = new Intl.NumberFormat('en-US', {\n  style: 'decimal',\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 2,\n});\n\nexport const formatNumber = {\n  format: (val?: number) => {\n    if (!val) {\n      return '--';\n    }\n\n    return numberFormater.format(val);\n  },\n};\n\nexport const formatPct = new Intl.NumberFormat('en-US', {\n  style: 'percent',\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 2,\n});\n\nexport function convert(\n  account?: TokenAccount | number,\n  mint?: MintInfo,\n  rate: number = 1.0,\n): number {\n  if (!account) {\n    return 0;\n  }\n\n  const amount =\n    typeof account === 'number' ? account : account.info.amount?.toNumber();\n\n  const precision = Math.pow(10, mint?.decimals || 0);\n  let result = (amount / precision) * rate;\n\n  return result;\n}\n\nexport function sleep(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n"],"sourceRoot":""}